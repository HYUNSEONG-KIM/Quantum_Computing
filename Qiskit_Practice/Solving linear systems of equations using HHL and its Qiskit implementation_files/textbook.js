/* (c) Mathigon, generated by Mathigon Studio */
(()=>{var ce=Object.defineProperty;var Rn=Object.prototype.hasOwnProperty;var Fn=Object.getOwnPropertyDescriptor,he=Object.getOwnPropertySymbols,Vn=Object.prototype.propertyIsEnumerable;var le=(t,e,n)=>e in t?ce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$t=(t,e)=>{for(var n in e||(e={}))Rn.call(e,n)&&le(t,n,e[n]);if(he)for(var n of he(e))Vn.call(e,n)&&le(t,n,e[n]);return t};var ue=(t,e,n,r)=>{for(var i=r>1?void 0:r?Fn(e,n):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(r?o(e,n,i):o(i))||i);return r&&i&&ce(e,n,i),i};var fe=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(l){i(l)}},o=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function de(t=10){return Math.random().toString(36).substr(2,t)}function z(t,...e){return e.includes(t)}var Wn=(t,e)=>t.concat(e);function Ot(t,e,n=Wn){for(let r of Object.keys(e))r in t&&Array.isArray(t[r])&&Array.isArray(e[r])?t[r]=n(t[r],e[r]):r in t&&t[r]instanceof Object&&e[r]instanceof Object?Ot(t[r],e[r]):t[r]=e[r]}function qt(t,e=0){return e?+setTimeout(t,e):(t(),0)}function ht(){let t=()=>{},e=()=>{},n=new Promise((r,i)=>{t=r,e=i});return n.catch(r=>r),{promise:n,resolve:t,reject:e}}function lt(t,e=0,n=!1){let r=!1,i=!1;return(...s)=>{r?i=!0:(n?i=!0:t(...s),r=!0,setTimeout(()=>{i&&t(...s),r=i=!1},e))}}function Hn(t){return function(e,n){if(!e||Array.isArray(this)||t.includes(e))return n}}function Nt(t,e,n){if(!t)return e;try{return JSON.parse(t,n?Hn(n):void 0)||e}catch(r){return e}}function Bt(t,e){return new Array(e).fill(t)}function pe(t,e,n){let r=[];for(let i=0;i<e;++i)r.push(Bt(t,n));return r}function Dt(t,e){let n=[];for(let r=0;r<e;++r)n.push(t(r));return n}function ge(t,e,n){let r=[];for(let i=0;i<e;++i){let s=[];for(let o=0;o<n;++o)s.push(t(i,o));r.push(s)}return r}function me(t,e,n=1){let r=[];if(e===void 0&&t>=0)for(let i=0;i<t;i+=n)r.push(i);else if(e===void 0)for(let i=0;i>t;i-=n)r.push(i);else if(t<=e)for(let i=t;i<=e;i+=n)r.push(i);else for(let i=t;i>=e;i-=n)r.push(i);return r}function R(t,e=0){return t[t.length-1-e]}function N(t){return t.reduce((e,n)=>e+n,0)}function ye(t){let e=0;return()=>t[e++%t.length]}function Rt(t){return t.filter((e,n)=>t.indexOf(e)===n)}function Ft(t){return t.reduce((e,n)=>e.concat(Array.isArray(n)?Ft(n):n),[])}function Vt(t,e){let n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}function k(t,e=/\s+/){return t?t.trim().split(e):[]}function we(t){return t.toLowerCase().replace(/^-/,"").replace(/-(.)/g,(e,n)=>n.toUpperCase())}var Wt=class{constructor(){this.events=new Map}on(t,e){for(let n of k(t))this.events.has(n)||this.events.set(n,[]),this.events.get(n).push(e)}one(t,e){let n=r=>{this.off(t,n),e(r)};this.on(t,n)}off(t,e){for(let n of k(t))this.events.has(n)&&this.events.set(n,this.events.get(n).filter(r=>r!==e))}trigger(t,e){for(let n of k(t))if(this.events.has(n))for(let r of this.events.get(n))r(e)}};var ut=class{constructor(...t){this.values=t}map(t){let e=this.values;return new ut(function*(){let n=0;for(let r of e)for(let i of r)yield t(i,n),n+=1}())}every(t){let e=0;for(let n of this.values)for(let r of n){if(!t(r,e))return!1;e+=1}return!0}some(t){let e=0;for(let n of this.values)for(let r of n){if(t(r,e))return!0;e+=1}return!1}slice(t,e){let n=this.values;return new ut(function*(){let r=0;for(let i of n)for(let s of i)r<t||e!==void 0&&r>t+e||(yield s,r+=1)}())}filter(t){let e=this.values;return new ut(function*(){let n=0;for(let r of e)for(let i of r)t(i,n)&&(yield i),n+=1}())}concat(t){this.values.push(t)}[Symbol.iterator](){let t=this.values;return function*(){for(let e of t)for(let n of e)yield n}()}static make(t,e){return new ut(function*(){let n=0;for(;e===void 0||n<e;)yield t(n),n+=1}())}};var zn=Object.defineProperty,Ht=(t,e)=>{for(var n in e)zn(t,n,{get:e[n],enumerable:!0})},ve=1e-6;function x(t,e,n=ve){return isNaN(t)||isNaN(e)?!1:Math.abs(t-e)<n}function T(t,e,n,r=ve){return e>n&&([e,n]=[n,e]),t>e+r&&t<n-r}function F(t,e=1){return Math.round(t/e)*e}function O(t,e=-Infinity,n=Infinity){return Math.min(n,Math.max(e,t))}function zt(t,e,n=.5){return t+(e-t)*n}function S(t){return t*t}function xe(t,e){return(t%e+e)%e}function Me(t,e=0){let n=t.slice(0),r=be(n);return e?r.filter(i=>i.length===e):r}function be(t){if(t.length===1)return[[],t];let e=t.pop(),n=be(t),r=[];for(let i of n)r.push(i,[...i,e]);return r}var Un={};Ht(Un,{determinant:()=>Kn,fill:()=>_e,identity:()=>Ee,inverse:()=>Ce,product:()=>ft,reflection:()=>jn,rotation:()=>Xn,scalarProduct:()=>Yn,shear:()=>Gn,sum:()=>ke,transpose:()=>Ae});function _e(t,e,n){return pe(t,e,n)}function Ee(t=2){let e=_e(0,t,t);for(let n=0;n<t;++n)e[n][n]=1;return e}function Xn(t){let e=Math.sin(t),n=Math.cos(t);return[[n,-e],[e,n]]}function Gn(t){return[[1,t],[0,1]]}function jn(t){let e=Math.sin(2*t),n=Math.cos(2*t);return[[n,e],[e,-n]]}function ke(...t){let[e,...n]=t,r=n.length>1?ke(...n):n[0];if(e.length!==r.length||e[0].length!==r[0].length)throw new Error("Matrix sizes don\u2019t match");let i=[];for(let s=0;s<e.length;++s){let o=[];for(let a=0;a<e[s].length;++a)o.push(e[s][a]+r[s][a]);i.push(o)}return i}function Yn(t,e){return t.map(n=>n.map(r=>r*e))}function ft(...t){let[e,...n]=t,r=n.length>1?ft(...n):n[0];if(e[0].length!==r.length)throw new Error("Matrix sizes don\u2019t match.");let i=[];for(let s=0;s<e.length;++s){let o=[];for(let a=0;a<r[0].length;++a){let c=0;for(let l=0;l<r.length;++l)c+=e[s][l]*r[l][a];o.push(c)}i.push(o)}return i}function Ae(t){let e=[];for(let n=0;n<t[0].length;++n){let r=[];for(let i=0;i<t.length;++i)r.push(t[i][n]);e.push(r)}return e}function Kn(t){if(t.length!==t[0].length)throw new Error("Not a square matrix.");let e=t.length;if(e===1)return t[0][0];if(e===2)return t[0][0]*t[1][1]-t[0][1]*t[1][0];let n=0;for(let r=0;r<e;++r){let i=t[0][r],s=t[0][r];for(let o=1;o<e;++o)s*=t[o][(r+o)%e],i*=t[o][(r-o+e)%e];n+=s-i}return n}function Ce(t){let e=t.length;if(e!==t[0].length)throw new Error("Not a square matrix.");let n=Ee(e),r=ge((i,s)=>t[i][s],e,e);for(let i=0;i<e;++i){let s=r[i][i];if(x(s,0)){for(let o=i+1;o<e;++o)if(r[o][i]!==0){for(let a=0;a<e;++a)[r[o][a],r[i][a]]=[r[i][a],r[o][a]],[n[o][a],n[i][a]]=[n[i][a],n[o][a]];break}if(s=r[i][i],x(s,0))throw new Error("Matrix not invertible.")}for(let o=0;o<e;++o)r[i][o]=r[i][o]/s,n[i][o]=n[i][o]/s;for(let o=0;o<e;++o){if(o===i)continue;let a=r[o][i];for(let c=0;c<e;++c)r[o][c]-=a*r[i][c],n[o][c]-=a*n[i][c]}}return n}var it={};Ht(it,{bernoulli:()=>Se,binomial:()=>er,cauchy:()=>ar,chiCDF:()=>hr,exponential:()=>sr,find:()=>Zn,geometric:()=>or,integer:()=>Qn,integrate:()=>Pe,normal:()=>ir,normalPDF:()=>cr,poisson:()=>nr,shuffle:()=>Jn,smart:()=>tr,uniform:()=>rr,weighted:()=>Te});function Jn(t){t=t.slice(0);for(let e=t.length-1;e>0;--e){let n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}function Qn(t,e){let n=e===void 0?0:t,r=e===void 0?t:e-t+1;return n+Math.floor(r*Math.random())}function Te(t){let e=Math.random()*N(t),n=0;return t.findIndex(r=>(n+=r)>=e)}function Zn(t){return t[Math.floor(t.length*Math.random())]}var dt=new Map;function tr(t,e){e||(e=de()),dt.has(e)||dt.set(e,Bt(1,t));let n=dt.get(e),r=Te(n.map(i=>i*i));return n[r]-=1,n[r]<=0&&dt.set(e,n.map(i=>i+1)),r}function Se(t=.5){return Math.random()<t?1:0}function er(t=1,e=.5){let n=0;for(let r=0;r<t;++r)n+=Se(e);return n}function nr(t=1){if(t<=0)return 0;let e=Math.exp(-t),n=1,r=0;for(;n>e;++r)n*=Math.random();return r-1}function rr(t=0,e=1){return t+(e-t)*Math.random()}function ir(t=0,e=1){let n=Math.random(),r=Math.random();return Math.sqrt(-2*Math.log(n))*Math.cos(2*Math.PI*r)*Math.sqrt(e)+t}function sr(t=1){return t<=0?0:-Math.log(Math.random())/t}function or(t=.5){if(!(t<=0||t>1))return Math.floor(Math.log(Math.random())/Math.log(1-t))}function ar(){let t,e,n;do e=2*Math.random()-1,n=2*Math.random()-1,t=e*e+n*n;while(t>=1);return e/n}function cr(t,e=1,n=0){return Math.exp(-((t-e)**2)/(2*n))/Math.sqrt(2*Math.PI*n)}var Ie=7,Le=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];function $e(t){if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*$e(1-t));t-=1;let e=Le[0];for(let r=1;r<Ie+2;r++)e+=Le[r]/(t+r);let n=t+Ie+.5;return Math.sqrt(2*Math.PI)*Math.pow(n,t+.5)*Math.exp(-n)*e}function Pe(t,e,n,r=1){let i=0;for(let s=e;s<n;s+=r)i+=t(s)*r||0;return i}function hr(t,e){let n=Pe(r=>Math.pow(r,(e-2)/2)*Math.exp(-r/2),0,t);return 1-n/Math.pow(2,e/2)/$e(e/2)}var lr={};Ht(lr,{bestPolynomial:()=>gr,coefficient:()=>qe,exponential:()=>fr,linear:()=>ur,logarithmic:()=>dr,polynomial:()=>Oe,power:()=>pr});function mr(t,e){let n=1,r=t[0];for(let i=1;i<t.length;++i)n*=e,r+=n*t[i];return r}function ur(t,e=!1){let n=0,r=0,i=0,s=0,o=t.length;for(let l=0;l<o;l++)n+=t[l][0],r+=t[l][1],i+=t[l][0]*t[l][0],s+=t[l][0]*t[l][1];if(e){let l=s/i;return[0,l]}let a=(o*s-n*r)/(o*i-n*n);return[r/o-a*n/o,a]}function fr(t){let e=[0,0,0,0,0,0];for(let s of t)e[0]+=s[0],e[1]+=s[1],e[2]+=s[0]*s[0]*s[1],e[3]+=s[1]*Math.log(s[1]),e[4]+=s[0]*s[1]*Math.log(s[1]),e[5]+=s[0]*s[1];let n=e[1]*e[2]-e[5]*e[5],r=Math.exp((e[2]*e[3]-e[5]*e[4])/n),i=(e[1]*e[4]-e[5]*e[3])/n;return[r,i]}function dr(t){let e=[0,0,0,0],n=t.length;for(let s of t)e[0]+=Math.log(s[0]),e[1]+=s[1]*Math.log(s[0]),e[2]+=s[1],e[3]+=Math.pow(Math.log(s[0]),2);let r=(n*e[1]-e[2]*e[0])/(n*e[3]-e[0]*e[0]);return[(e[2]-r*e[0])/n,r]}function pr(t){let e=[0,0,0,0],n=t.length;for(let s of t)e[0]+=Math.log(s[0]),e[1]+=Math.log(s[1])*Math.log(s[0]),e[2]+=Math.log(s[1]),e[3]+=Math.pow(Math.log(s[0]),2);let r=(n*e[1]-e[2]*e[0])/(n*e[3]-e[0]*e[0]);return[Math.exp((e[2]-r*e[0])/n),r]}function Oe(t,e=2){let n=t.map(c=>me(e+1).map(l=>Math.pow(c[0],l))),r=Ae(n),i=t.map(c=>[c[1]]),s=ft(r,n),o=Ce(s);return ft(o,r,i).map(c=>c[0])}function qe(t,e){let r=t.reduce((o,a)=>o+a[1],0)/t.length,i=t.reduce((o,a)=>o+(a[1]-r)**2,0),s=t.reduce((o,a)=>o+(a[1]-e(a[0]))**2,0);return 1-s/i}function gr(t,e=.85,n=8){if(!(t.length<=1))for(let r=1;r<n;++r){let i=Oe(t,r),s=a=>mr(i,a);if(qe(t,s)>=e)return{order:r,coefficients:i,fn:s}}}var pt=2*Math.PI;function Ne(t,e){let n=Math.atan2(t.y-(e?e.y:0),t.x-(e?e.x:0));return xe(n,pt)}function Be(t,e){let n,r=Infinity,i=-1;for(let[s,o]of e.entries()){let a=o.project(t),c=h.distance(t,a);c<r&&(n=a,r=c,i=s)}return n?[n,i]:void 0}var h=class{constructor(t=0,e=0){this.x=t,this.y=e,this.type="point"}get unitVector(){return x(this.length,0)?new h(1,0):this.scale(1/this.length)}get length(){return Math.sqrt(this.x**2+this.y**2)}get inverse(){return new h(-this.x,-this.y)}get flip(){return new h(this.y,this.x)}get perpendicular(){return new h(-this.y,this.x)}get array(){return[this.x,this.y]}distanceFromLine(t){return h.distance(this,t.project(this))}clamp(t,e=0){let n=O(this.x,t.xMin+e,t.xMax-e),r=O(this.y,t.yMin+e,t.yMax-e);return new h(n,r)}changeCoordinates(t,e){let n=e.xMin+(this.x-t.xMin)/t.dx*e.dx,r=e.yMin+(this.y-t.yMin)/t.dy*e.dy;return new h(n,r)}add(t){return h.sum(this,t)}subtract(t){return h.difference(this,t)}round(t=1){return new h(F(this.x,t),F(this.y,t))}floor(){return new h(Math.floor(this.x),Math.floor(this.y))}mod(t,e=t){return new h(this.x%t,this.y%e)}angle(t=j){return Ne(this,t)}snap(t,e=5){return x(this.x,t.x,e)?new h(t.x,this.y):x(this.y,t.y,e)?new h(this.x,t.y):this}static average(...t){let e=N(t.map(r=>r.x))/t.length,n=N(t.map(r=>r.y))/t.length;return new h(e,n)}static dot(t,e){return t.x*e.x+t.y*e.y}static sum(t,e){return new h(t.x+e.x,t.y+e.y)}static difference(t,e){return new h(t.x-e.x,t.y-e.y)}static distance(t,e){return Math.sqrt(S(t.x-e.x)+S(t.y-e.y))}static manhattan(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}static interpolate(t,e,n=.5){return new h(zt(t.x,e.x,n),zt(t.y,e.y,n))}static interpolateList(t,e=.5){let n=t.length-1,r=Math.floor(O(e,0,1)*n);return h.interpolate(t[r],t[r+1],n*e-r)}static fromPolar(t,e=1){return new h(e*Math.cos(t),e*Math.sin(t))}static random(t){let e=it.uniform(t.xMin,t.xMax),n=it.uniform(t.yMin,t.yMax);return new h(e,n)}static equals(t,e,n){return x(t.x,e.x,n)&&x(t.y,e.y,n)}static colinear(t,e,n,r){let i=t.x-e.x,s=t.y-e.y,o=e.x-n.x,a=e.y-n.y;return x(i*a,o*s,r)}transform(t){let e=t[0][0]*this.x+t[0][1]*this.y+t[0][2],n=t[1][0]*this.x+t[1][1]*this.y+t[1][2];return new h(e,n)}rotate(t,e=j){if(x(t,0))return this;let n=this.x-e.x,r=this.y-e.y,i=Math.cos(t),s=Math.sin(t),o=n*i-r*s+e.x,a=n*s+r*i+e.y;return new h(o,a)}reflect(t){let e=t.p2.x-t.p1.x,n=t.p2.y-t.p1.y,r=this.x-t.p1.x,i=this.y-t.p1.y,s=(e*i-n*r)/(e*e+n*n),o=this.x+2*s*n,a=this.y-2*s*e;return new h(o,a)}scale(t,e=t){return new h(this.x*t,this.y*e)}shift(t,e=t){return new h(this.x+t,this.y+e)}translate(t){return this.shift(t.x,t.y)}equals(t,e){return h.equals(this,t,e)}toString(){return`point(${this.x},${this.y})`}},j=new h(0,0),V=class{constructor(t,e){this.p1=t,this.p2=e,this.type="line"}make(t,e){return new V(t,e)}get length(){return h.distance(this.p1,this.p2)}get lengthSquared(){return(this.p1.x-this.p2.x)**2+(this.p1.y-this.p2.y)**2}get midpoint(){return h.average(this.p1,this.p2)}get slope(){return(this.p2.y-this.p1.y)/(this.p2.x-this.p1.x)}get intercept(){return this.p1.y-this.slope*this.p1.x}get angle(){return Ne(this.p2,this.p1)}get unitVector(){return this.p2.subtract(this.p1).unitVector}get perpendicularVector(){return new h(this.p2.y-this.p1.y,this.p1.x-this.p2.x).unitVector}parallel(t){let e=h.sum(t,h.difference(this.p2,this.p1));return new V(t,e)}perpendicular(t){return new V(t,h.sum(t,this.perpendicularVector))}get perpendicularBisector(){return this.perpendicular(this.midpoint)}distanceSquared(t){let e=this.project(t);return(t.x-e.x)**2+(t.y-e.y)**2}offset(t){let e=h.difference(this.p2,this.p1),n=h.difference(t,this.p1);return h.dot(e,n)/this.lengthSquared}project(t){return this.at(this.offset(t))}side(t,e){let n=h.difference(this.p2,this.p1),r=h.difference(t,this.p1),i=r.x*n.y-r.y*n.x;return x(i,0,e)?0:Math.sign(i)}contains(t,e){return this.side(t,e)===0}at(t){return h.interpolate(this.p1,this.p2,t)}transform(t){return new this.constructor(this.p1.transform(t),this.p2.transform(t))}rotate(t,e=j){return x(t,0)?this:new this.constructor(this.p1.rotate(t,e),this.p2.rotate(t,e))}reflect(t){return new this.constructor(this.p1.reflect(t),this.p2.reflect(t))}scale(t,e=t){return this.make(this.p1.scale(t,e),this.p2.scale(t,e))}shift(t,e=t){return this.make(this.p1.shift(t,e),this.p2.shift(t,e))}translate(t){return this.shift(t.x,t.y)}equals(t,e){return this.contains(t.p1,e)&&this.contains(t.p2,e)}toString(){return`line(${this.p1},${this.p2})`}};var Ut=class extends V{constructor(){super(...arguments);this.type="segment"}contains(t,e){return V.prototype.contains.call(this,t,e)?this.p1.equals(t,e)||this.p2.equals(t,e)?!0:x(this.p1.x,this.p2.x,e)?T(t.y,this.p1.y,this.p2.y):T(t.x,this.p1.x,this.p2.x):!1}make(t,e){return new Ut(t,e)}project(t){let e=h.difference(this.p2,this.p1),n=h.difference(t,this.p1),r=O(h.dot(e,n)/this.lengthSquared,0,1);return h.sum(this.p1,e.scale(r))}contract(t){return new Ut(this.at(t),this.at(1-t))}equals(t,e,n=!1){return t.type!=="segment"?!1:this.p1.equals(t.p1,e)&&this.p2.equals(t.p2,e)||!n&&this.p1.equals(t.p2,e)&&this.p2.equals(t.p1,e)}toString(){return`segment(${this.p1},${this.p2})`}};var U=1e-6;function Xt(t,e,n){let r=(n.x-e.x)*(t.y-e.y),i=(n.y-e.y)*(t.x-e.x);return r-i>=-U}function De(t,e,n){let r=t.y-e.y,i=n.x-e.x,s=t.x-e.x,o=n.y-e.y,a=s*i+r*o;if(a<U)return!1;let c=i*i+o*o;return a-c<=-U}function Re(t,e){return x(t.x,e.x)?x(t.y,e.y)?0:t.y<e.y?-1:1:t.x<e.x?-1:1}function Fe(t){return t<=-U?-2:t<U?-1:t-1<=-U?0:t-1<U?1:2}function yr(t,e,n,r){let i=e.x-t.x,s=e.y-t.y,o=r.x-n.x,a=r.y-n.y,c=i*a-s*o;if(x(c,0))return!1;let l=t.x-n.x,d=t.y-n.y,y=(o*d-a*l)/c,w=(i*d-s*l)/c,b=new h(t.x+y*i,t.y+y*s);return{alongA:Fe(y),alongB:Fe(w),pt:b}}var Y=class{constructor(){this.root={root:!0,next:void 0}}exists(t){return t!==void 0&&t!==this.root}get head(){return this.root.next}insertBefore(t,e){let n=this.root,r=this.root.next;for(;r;){if(e(r)){t.prev=r.prev,t.next=r,r.prev.next=t,r.prev=t;return}n=r,r=r.next}n.next=t,t.prev=n,t.next=void 0}findTransition(t){let e=this.root,n=this.root.next;for(;n&&!t(n);)e=n,n=n.next;return{before:e===this.root?void 0:e,after:n,insert:r=>(r.prev=e,r.next=n,e.next=r,n&&(n.prev=r),r)}}static node(t){let e=t;return e.remove=()=>{e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.prev=e.next=void 0},e}};function Gt(t,e,n){let r={above:n.myFill.above,below:n.myFill.below};return{start:t,end:e,myFill:r}}function wr(t,e,n,r,i,s){let o=Re(e,i);return o!==0?o:h.equals(n,s)?0:t!==r?t?1:-1:Xt(n,r?i:s,r?s:i)?1:-1}function jt(t,e,n){t.insertBefore(e,r=>wr(!!e.isStart,e.pt,n,!!r.isStart,r.pt,r.other.pt)<0)}function vr(t,e,n){let r=Y.node({isStart:!0,pt:e.start,seg:e,primary:n});return jt(t,r,e.end),r}function xr(t,e,n,r){let i=Y.node({pt:n.end,seg:n,primary:r,other:e});e.other=i,jt(t,i,e.pt)}function gt(t,e,n){let r=vr(t,e,n);return xr(t,r,e,n),r}function br(t,e,n){e.other.remove(),e.seg.end=n,e.other.pt=n,jt(t,e.other,e.pt)}function $(t,e,n){let r=Gt(n,e.seg.end,e.seg);return br(t,e,n),gt(t,r,!!e.primary)}function Mr(t,e){let n=t.seg.start,r=t.seg.end,i=e.seg.start,s=e.seg.end;return h.colinear(n,i,s)?h.colinear(r,i,s)||Xt(r,i,s)?1:-1:Xt(n,i,s)?1:-1}function Yt(t,e,n){let r=e.seg,i=n.seg,s=r.start,o=r.end,a=i.start,c=i.end,l=yr(s,o,a,c);if(l===!1){if(!h.colinear(s,o,a)||h.equals(s,c)||h.equals(o,a))return!1;let d=h.equals(s,a),y=h.equals(o,c);if(d&&y)return n;let w=!d&&De(s,a,c),b=!y&&De(o,a,c);if(d)return b?$(t,n,o):$(t,e,c),n;w&&(y||(b?$(t,n,o):$(t,e,c)),$(t,n,s))}else l.alongA===0&&(l.alongB===-1?$(t,e,a):l.alongB===0?$(t,e,l.pt):l.alongB===1&&$(t,e,c)),l.alongB===0&&(l.alongA===-1?$(t,n,s):l.alongA===0?$(t,n,l.pt):l.alongA===1&&$(t,n,o));return!1}function Ve(t,e){var n,r;let i=new Y,s=[];for(;t.head;){let o=t.head;if(o.isStart){let a=function(){if(l){let w=Yt(t,o,l);if(w)return w}return d?Yt(t,o,d):!1},c=i.findTransition(w=>Mr(o,w.ev)>0),l=(n=c.before)==null?void 0:n.ev,d=(r=c.after)==null?void 0:r.ev,y=a();if(y&&(e?(o.seg.myFill.below?o.seg.myFill.above!==o.seg.myFill.below:!0)&&(y.seg.myFill.above=!y.seg.myFill.above):y.seg.otherFill=o.seg.myFill,o.other.remove(),o.remove()),t.head!==o)continue;if(e){let w=o.seg.myFill.below?o.seg.myFill.above!==o.seg.myFill.below:!0;o.seg.myFill.below=d?d.seg.myFill.above:!1,o.seg.myFill.above=w?!o.seg.myFill.below:o.seg.myFill.below}else if(o.seg.otherFill===void 0){let w=d?o.primary===d.primary?d.seg.otherFill.above:d.seg.myFill.above:!1;o.seg.otherFill={above:w,below:w}}o.other.status=c.insert(Y.node({ev:o}))}else{let a=o.status;if(a===void 0)throw new Error("[Euclid.js] Zero-length segment detected!");if(i.exists(a.prev)&&i.exists(a.next)&&Yt(t,a.prev.ev,a.next.ev),a.remove(),!o.primary){let c=o.seg.myFill;o.seg.myFill=o.seg.otherFill,o.seg.otherFill=c}s.push(o.seg)}t.head.remove()}return s}function _r(t){let e=[],n=[];return t.forEach(r=>{let i=r.start,s=r.end;if(h.equals(i,s))return;let o={index:0,matchesHead:!1,matchesPt1:!1},a={index:0,matchesHead:!1,matchesPt1:!1},c=o;function l(u,g,v){c.index=u,c.matchesHead=g,c.matchesPt1=v;let p=c===o;return c=p?a:void 0,!p}for(let u=0;u<e.length;u++){let g=e[u],v=g[0],p=R(g);if(h.equals(v,i)){if(l(u,!0,!0))break}else if(h.equals(v,s)){if(l(u,!0,!1))break}else if(h.equals(p,i)){if(l(u,!1,!0))break}else if(h.equals(p,s)&&l(u,!1,!1))break}if(c===o){e.push([i,s]);return}if(c===a){let u=o.index,g=o.matchesPt1?s:i,v=o.matchesHead,p=e[u],m=v?p[0]:p[p.length-1],f=v?p[1]:p[p.length-2],E=v?p[p.length-1]:p[0],D=v?p[p.length-2]:p[1];if(h.colinear(f,m,g)&&(v?p.shift():p.pop(),m=f),h.equals(E,g)){e.splice(u,1),h.colinear(D,E,m)&&(v?p.pop():p.shift()),n.push(p);return}v?p.unshift(g):p.push(g);return}function d(u){e[u].reverse()}function y(u,g){let v=e[u],p=e[g],m=v[v.length-1],f=v[v.length-2],E=p[0],D=p[1];h.colinear(f,m,E)&&(v.pop(),m=f),h.colinear(m,E,D)&&p.shift(),e[u]=v.concat(p),e.splice(g,1)}let w=o.index,b=a.index,M=e[w].length<e[b].length;o.matchesHead?a.matchesHead?M?(d(w),y(w,b)):(d(b),y(b,w)):y(b,w):a.matchesHead?y(w,b):M?(d(w),y(b,w)):(d(b),y(w,b))}),n}function Er(t,e){let n=[];for(let r of t){let i=(r.myFill.above?8:0)+(r.myFill.below?4:0)+(r.otherFill&&r.otherFill.above?2:0)+(r.otherFill&&r.otherFill.below?1:0);e[i]!==0&&n.push({start:r.start,end:r.end,myFill:{above:e[i]===1,below:e[i]===2}})}return n}function We(t){let e=new Y;for(let n of t)for(let r=0;r<n.length;r++){let i=r?n[r-1]:R(n),s=n[r],o=Re(i,s);if(o===0)continue;let a=o<0?i:s,c=o<0?s:i;gt(e,{start:a,end:c,myFill:{}},!0)}return Ve(e,!0)}function Kt(t,e,n){let r=new Y;for(let s of We(t))gt(r,Gt(s.start,s.end,s),!0);for(let s of We(e))gt(r,Gt(s.start,s.end,s),!1);let i=Er(Ve(r,!1),n);return _r(i)}var kr=[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],Ar=[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],Cr=[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0];var Tr=(t,e)=>Kt(t,e,kr),Sr=(t,e)=>Kt(t,e,Ar),Pr=(t,e)=>Kt(t,e,Cr);function Jt(t){return["polygon","polyline","rectangle","triangle"].includes(t.type)}function Ir(t){return["polygon","triangle"].includes(t.type)}function He(t){return t.type==="polyline"}function Lr(t){return t.type==="rectangle"}function st(t){return["line","ray","segment"].includes(t.type)}function $r(t){return t.type==="line"}function ze(t){return t.type==="ray"}function Qt(t){return t.type==="segment"}function K(t){return t.type==="circle"}function Or(t){return t.type==="ellipse"}function mt(t){return t.type==="arc"}function qr(t){return t.type==="sector"}function yt(t){return t.type==="angle"}function Nr(t,e){return x(t.p1.x,t.p2.x)?T(e.y,t.p1.y,t.p2.y):T(e.x,t.p1.x,t.p2.x)}function Br(t,e){return x(t.p1.x,t.p2.x)?(e.y-t.p1.y)/(t.p2.y-t.p1.y)>0:(e.x-t.p1.x)/(t.p2.x-t.p1.x)>0}function Dr(t,e){return T(t.offset(e),0,1)}function Rr(t,e){let n=t.p1.x-t.p2.x,r=t.p1.y-t.p2.y,i=e.p1.x-e.p2.x,s=e.p1.y-e.p2.y,o=n*s-r*i;if(x(o,0))return[];let a=t.p1.x*t.p2.y-t.p1.y*t.p2.x,c=e.p1.x*e.p2.y-e.p1.y*e.p2.x,l=a*i-n*c,d=a*s-r*c;return[new h(l/o,d/o)]}function Fr(t,e){let n=h.distance(t.c,e.c);if(n>t.r+e.r)return[];if(n<Math.abs(t.r-e.r))return[];if(x(n,0)&&x(t.r,e.r))return[];if(x(n,t.r+e.r))return[new V(t.c,e.c).midpoint];let r=(S(t.r)-S(e.r)+S(n))/(2*n),i=Math.sqrt(S(t.r)-S(r)),s=(e.c.x-t.c.x)*r/n+(e.c.y-t.c.y)*i/n+t.c.x,o=(e.c.y-t.c.y)*r/n-(e.c.x-t.c.x)*i/n+t.c.y,a=(e.c.x-t.c.x)*r/n-(e.c.y-t.c.y)*i/n+t.c.x,c=(e.c.y-t.c.y)*r/n+(e.c.x-t.c.x)*i/n+t.c.y;return[new h(s,o),new h(a,c)]}function Ue(t,e){let n=t.p2.x-t.p1.x,r=t.p2.y-t.p1.y,i=S(n)+S(r),s=e.c.x,o=e.c.y,a=(t.p1.x-s)*(t.p2.y-o)-(t.p2.x-s)*(t.p1.y-o),c=S(e.r)*i-S(a);if(c<0)return[];let l=a*r/i,d=-a*n/i;if(x(c,0))return[e.c.shift(l,d)];let y=n*(r<0?-1:1)*Math.sqrt(c)/i,w=Math.abs(r)*Math.sqrt(c)/i;return[e.c.shift(l+y,d+w),e.c.shift(l-y,d-w)]}function Vr(t,e){let n=[],r=mt(t)?t.circle:t,i=mt(e)?e.circle:e;st(t)&&st(e)?n=Rr(t,e):st(r)&&K(i)?n=Ue(r,i):K(r)&&st(i)?n=Ue(i,r):K(r)&&K(i)&&(n=Fr(r,i));for(let s of[t,e])Qt(s)&&(n=n.filter(o=>Nr(s,o))),ze(s)&&(n=n.filter(o=>Br(s,o))),mt(s)&&(n=n.filter(o=>Dr(s,o)));return n}function ot(...t){if(t.length<2)return[];if(t.length>2)return Ft(Me(t,2).map(r=>ot(...r)));let[e,n]=t;if(yt(e)&&(e=e.shape(!0)),yt(n)&&(n=n.shape(!0)),Jt(n)&&([e,n]=[n,e]),Jt(e)){let r=st(n)?e.points.filter(i=>n.contains(i)):[];for(let i of e.edges)r.push(...ot(i,n));return r}return Vr(e,n)}var W=class{constructor(...t){this.type="polygon",this.points=t}get circumference(){if(this.points.length<=1)return 0;let t=h.distance(this.points[0],R(this.points));for(let e=1;e<this.points.length;++e)t+=h.distance(this.points[e-1],this.points[e]);return t}get signedArea(){let t=this.points,e=t.length,n=t[e-1].x*t[0].y-t[0].x*t[e-1].y;for(let r=1;r<e;++r)n+=t[r-1].x*t[r].y-t[r].x*t[r-1].y;return n/2}get area(){return Math.abs(this.signedArea)}get centroid(){let t=this.points,e=t.length,n=0;for(let i=0;i<e;++i)n+=t[i].x;let r=0;for(let i=0;i<e;++i)r+=t[i].y;return new h(n/e,r/e)}get edges(){let t=this.points.length,e=[];for(let n=0;n<t;++n)e.push(new Ut(this.points[n],this.points[(n+1)%t]));return e}get radius(){let t=this.centroid,e=this.points.map(n=>h.distance(n,t));return Math.max(...e)}get oriented(){if(this.signedArea>=0)return this;let t=[...this.points].reverse();return new this.constructor(...t)}cut(t){let e=this.radius/t.length*10,n=t.at(-e),r=t.at(e),i=t.perpendicularVector.scale(t.length*e),s=[n,r,r.add(i),n.add(i)],o=Sr([this.points],[s]),a=Pr([this.points],[s]);return[...o,...a].map(c=>new W(...c))}static collision(t,e){if(t.points.some(n=>e.contains(n))||e.points.some(n=>t.contains(n)))return!0;for(let n of t.edges)for(let r of e.edges)if(ot(n,r)[0])return!0;return!1}static union(...t){let[e,...n]=t;if(!n.length)return[e];let r=[e.points],i=n.length>1?W.union(...n).map(s=>s.points):[t[1].points];return Tr(r,i).map(s=>new W(...s))}static regular(t,e=1){let n=pt/t,r=Math.PI/2-n/2,i=Dt(s=>h.fromPolar(r+n*s,e),t);return new W(...i)}static interpolate(t,e,n=.5){let r=t.points.map((i,s)=>h.interpolate(i,e.points[s],n));return new W(...r)}static convexHull(...t){if(t.length<=3)return new W(...t);let e=t.sort((s,o)=>s.x!==o.x?s.x-o.x:s.y-o.y),n=e.slice(0).reverse(),r=[],i=[];for(let[s,o]of[[e,r],[n,i]]){for(let a of s){for(;o.length>=2;){let c=o[o.length-1],l=o[o.length-2];if((c.x-l.x)*(a.y-l.y)>=(a.x-l.x)*(c.y-l.y))o.pop();else break}o.push(a)}o.pop()}return new W(...r.concat(i))}contains(t){let e=!1;for(let n of this.edges){if(n.p1.equals(t)||n.contains(t))return!1;if(n.p1.y>t.y==n.p2.y>t.y)continue;let r=(n.p2.x-n.p1.x)/(n.p2.y-n.p1.y);t.x<r*(t.y-n.p1.y)+n.p1.x&&(e=!e)}return e}at(t){t<0&&(t+=Math.floor(t));let e=t*this.circumference,n=0;for(let r of this.edges){let i=r.length;if(n+i>e)return r.at((e-n)/i);n+=i}return this.points[0]}offset(t){let e=this.edges,n=Be(t,this.edges)||[this.points[0],0],r=0;for(let i=0;i<n[1];++i)r+=e[i].length;return r+=e[n[1]].offset(t)*e[n[1]].length,r/this.circumference}project(t){let e=Be(t,this.edges);return e?e[0]:this.points[0]}centerAt(t=j){return this.translate(t.subtract(this.centroid))}transform(t){return new this.constructor(...this.points.map(e=>e.transform(t)))}rotate(t,e=j){if(x(t,0))return this;let n=this.points.map(r=>r.rotate(t,e));return new this.constructor(...n)}reflect(t){let e=this.points.map(n=>n.reflect(t));return new this.constructor(...e)}scale(t,e=t){let n=this.points.map(r=>r.scale(t,e));return new this.constructor(...n)}shift(t,e=t){let n=this.points.map(r=>r.shift(t,e));return new this.constructor(...n)}translate(t){return this.shift(t.x,t.y)}equals(t,e,n){let r=this.points.length;if(r!==t.points.length)return!1;let i=n?this:this.oriented,s=n?t:t.oriented;for(let o=0;o<r;++o)if(i.points.every((a,c)=>a.equals(s.points[(c+o)%r],e)))return!0;return!1}toString(){return`polygon(${this.points.join(",")})`}};var Vs=180/Math.PI,Ws=Math.PI/180;var J=class{constructor(t,e=1,n=e){this.p=t,this.w=e,this.h=n,this.type="rectangle"}static aroundPoints(t){let e=Infinity,n=-Infinity,r=Infinity,i=-Infinity;for(let s of t)e=e<s.x?e:s.x,n=n>s.x?n:s.x,r=r<s.y?r:s.y,i=i>s.y?i:s.y;return new J(new h(e,r),n-e,i-r)}get center(){return new h(this.p.x+this.w/2,this.p.y+this.h/2)}get centroid(){return this.center}get circumference(){return 2*Math.abs(this.w)+2*Math.abs(this.h)}get area(){return Math.abs(this.w*this.h)}get edges(){return this.polygon.edges}get points(){return this.polygon.points}get polygon(){let t=new h(this.p.x+this.w,this.p.y),e=new h(this.p.x+this.w,this.p.y+this.h),n=new h(this.p.x,this.p.y+this.h);return new W(this.p,t,e,n)}collision(t){return this.p.x<t.p.x+t.w&&this.p.x+this.w>t.p.x&&this.p.y<t.p.y+t.h&&this.p.y+this.h>t.p.y}padding(t,e,n,r){return new J(this.p.shift(-r,-t),this.w+r+e,this.h+t+n)}contains(t,e){return T(t.x,this.p.x,this.p.x+this.w,e)&&T(t.y,this.p.y,this.p.y+this.h,e)}project(t){let e;for(let n of this.edges){let r=n.project(t);(!e||h.distance(t,r)<h.distance(t,e))&&(e=r)}return e}at(t){return this.polygon.at(t)}offset(t){return this.polygon.offset(t)}transform(t){return this.polygon.transform(t)}rotate(t,e=j){return x(t,0)?this:this.polygon.rotate(t,e)}reflect(t){return this.polygon.reflect(t)}scale(t,e=t){return new J(this.p.scale(t,e),this.w*t,this.h*e)}shift(t,e=t){return new J(this.p.shift(t,e),this.w,this.h)}translate(t){return this.shift(t.x,t.y)}equals(t){return!1}toString(){return`rectangle(${this.p},${this.w},${this.h})`}};function Zt(t,e,n={}){if(yt(e))return Zt(t,e.shape(!!n.fill),n);if(n.fill&&(t.fillStyle=n.fill),n.opacity&&(t.globalAlpha=n.opacity),n.stroke&&(t.strokeStyle=n.stroke,t.lineWidth=n.strokeWidth||1,n.lineCap&&(t.lineCap=n.lineCap),n.lineJoin&&(t.lineJoin=n.lineJoin)),t.beginPath(),Qt(e))t.moveTo(e.p1.x,e.p1.y),t.lineTo(e.p2.x,e.p2.y);else if(K(e))t.arc(e.c.x,e.c.y,e.r,0,pt);else if(Jt(e)){let r=e.points;t.moveTo(r[0].x,r[0].y);for(let i of r.slice(1))t.lineTo(i.x,i.y);t.closePath()}else if(He(e)){t.moveTo(e.points[0].x,e.points[0].y);for(let r of e.points.slice(1))t.lineTo(r.x,r.y)}else Or(e)&&t.ellipse(e.c.x,e.c.y,e.a,e.b,e.angle,0,pt);n.fill&&t.fill(),n.stroke&&t.stroke()}function Xe(t,e,n){let i=e.x*(n.y-t.y)+t.x*(e.y-n.y)+n.x*(t.y-e.y)>0?1:0,s=h.distance(e,t);return[t.x,`${t.y}A${s}`,s,0,i,1,n.x,n.y].join(",")}function P(...t){return`M${t.map(e=>`${e.x},${e.y}`).join("L")}`}function Ge(t,e){let n=t.perpendicularVector.scale(6),r=t.unitVector.scale(3),i=t.midpoint;switch(e){case"bar":return P(i.add(n),i.add(n.inverse));case"bar2":return P(i.add(r).add(n),i.add(r).add(n.inverse))+P(i.add(r.inverse).add(n),i.add(r.inverse).add(n.inverse));case"arrow":return P(i.add(r.inverse).add(n),i.add(r),i.add(r.inverse).add(n.inverse));case"arrow2":return P(i.add(r.scale(-2)).add(n),i,i.add(r.scale(-2)).add(n.inverse))+P(i.add(n),i.add(r.scale(2)),i.add(n.inverse));default:return""}}function wt(t,e){if(!t||!e)return"";let n=e.perpendicular,r=t.add(e.scale(9)).add(n.scale(9)),i=t.add(e.scale(9)).add(n.scale(-9));return P(r,t,i)}function Wr(t,e){let n="";return z(e,"start","both")&&(n+=wt(t.p1,t.unitVector)),z(e,"end","both")&&(n+=wt(t.p2,t.unitVector.inverse)),n}function Hr(t,e){let n="";if(z(e,"start","both")){let r=new V(t.c,t.start).perpendicularVector.inverse;n+=wt(t.start,r)}if(z(e,"end","both")){let r=new V(t.c,t.end).perpendicularVector;n+=wt(t.end,r)}return n}function vt(t,e={}){if(yt(t)){let n=t.shape(!!e.fill,e.size,e.round);return vt(n,e)}if(Qt(t)){if(t.p1.equals(t.p2))return"";let n=P(t.p1,t.p2);return e.mark&&(n+=Ge(t,e.mark)),e.arrows&&(n+=Wr(t,e.arrows)),n}if(ze(t)){if(!e.box)return"";let n=ot(t,e.box)[0];return n?P(t.p1,n):""}if($r(t)){if(!e.box)return"";let n=ot(t,e.box);if(n.length<2)return"";let r=P(n[0],n[1]);return e.mark&&(r+=Ge(t,e.mark)),r}if(K(t))return`M ${t.c.x-t.r} ${t.c.y} a ${t.r},${t.r} 0 1 0 ${2*t.r} 0 a ${t.r} ${t.r} 0 1 0 ${-2*t.r} 0`;if(mt(t)){let n=`M${Xe(t.start,t.c,t.end)}`;return e.arrows&&(n+=Hr(t,e.arrows)),n}return qr(t)?`M ${t.c.x} ${t.c.y} L ${Xe(t.start,t.c,t.end)} Z`:He(t)?P(...t.points):Ir(t)?`${P(...t.points)}Z`:Lr(t)?`${P(...t.polygon.points)}Z`:""}var q=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(l){i(l)}},o=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function zr(t){let e=[];for(let n of Object.keys(t)){let r=t[n];if(n=encodeURIComponent(n),r==null){e.push(n);continue}r=Array.isArray(r)?r.join(","):`${r}`,r=r.replace(/(\r)?\n/g,`\r
`),r=encodeURIComponent(r),r=r.replace(/%20/g,"+"),e.push(`${n}=${r}`)}return e.join("&")}function Ur(t,e){return q(this,null,function*(){let n=e instanceof FormData,r={method:"POST",body:n?e:e?zr(e):void 0,headers:{"X-CSRF-Token":window.csrfToken||""}};n||(r.headers["Content-Type"]="application/x-www-form-urlencoded");let i=t.includes("?")?"&xhr=1":"?xhr=1",s=yield fetch(t+i,r);if(!s.ok)throw new Error(`Fetch error ${s.status}: ${t}`);return s.text()})}function je(t,e=!1){return new Promise(n=>{let r=new Image;e||(r.crossOrigin="Anonymous"),r.onload=()=>n(r),r.src=t})}var at=new Map;function Xr(t,e){at.has(t)?Ot(at.get(t),e,(n,r)=>Rt(n.concat(r))):at.set(t,e)}function Ye(){if(!!window.navigator.onLine)for(let[t,e]of at)at.delete(t),Ur(t,{data:JSON.stringify(e)}).catch(n=>{console.error("Failed to send POST request:",n),Xr(t,e)})}var Gr=lt(Ye,5e3);window.addEventListener("online",Gr);window.onbeforeunload=Ye;var Ke={"===":(t,e)=>t===e,"!==":(t,e)=>t!==e,"||":(t,e)=>t||e,"&&":(t,e)=>t&&e,"==":(t,e)=>t==e,"!=":(t,e)=>t!=e,"<=":(t,e)=>t<=e,">=":(t,e)=>t>=e,"**":(t,e)=>t**e,"<":(t,e)=>t<e,">":(t,e)=>t>e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e},Je={"-":t=>-t,"+":t=>+t,"!":t=>!t},Qe={"||":1,"&&":2,"==":3,"!=":3,"===":3,"!==":3,"<":4,">":4,"<=":4,">=":4,"+":5,"-":5,"*":6,"/":6,"%":6,"**":7},Ze={true:!0,false:!1,undefined:void 0},jr=/\s/,te=/[0-9]/,ee=/[a-zA-Zα-ωΑ-Ω$_]/,Yr=/[0-9a-zA-Zα-ωΑ-Ω$_]/;function Kr(t){let e=t.length,n=0;function r(u){throw new Error(`${u} at character ${n} of "${t}"`)}function i(){for(;jr.test(t[n]);)n+=1}function s(){let u="";for(;te.test(t[n]);)u+=t[n++];if(t[n]===".")for(u+=t[n++];te.test(t[n]);)u+=t[n++];let g=t[n];if(g&&ee.test(g)){let v=u+t[n];r(`Variable names cannot start with a number (${v})`)}else g==="."&&r("Unexpected period");return{type:5,value:parseFloat(u)}}function o(){let u=t[n];n+=1;let g=!1,v="";for(;n<e;){let p=t[n++];if(p===u){g=!0;break}v+=p}return g||r(`Unclosed quote after "${v}"`),{type:5,value:v}}function a(){let u=t[n];for(ee.test(t[n])||r(`Unexpected ${u}`),n+=1;n<e&&Yr.test(t[n]);)u+=t[n++];return u in Ze?{type:5,value:Ze[u]}:{type:4,name:u}}function c(u){let g=[],v=!1,p;for(;n<e;)if(t[n]===u){p&&g.push(p),v=!0,n+=1;break}else t[n]===","?(g.push(p||{type:5,value:void 0}),n+=1):p=b();return v||r(`Expected ${u}`),g}function l(){let u;if(t[n]==="("){if(n+=1,u=b(),i(),t[n]===")")return n+=1,u;r("Unclosed (")}else u=a();for(i();".[(".includes(t[n]);)t[n]==="."?(n++,i(),u={type:6,object:u,computed:!1,property:a()}):t[n]==="["?(n++,u={type:6,object:u,computed:!0,property:b()},i(),t[n]!=="]"&&r("Unclosed ["),n++):t[n]==="("&&(n++,u={type:2,args:c(")"),callee:u}),i();return u}function d(){i();for(let u of[3,2,1]){let g=t.substr(n,u);if(g in Ke)return n+=u,g}}function y(){i();let u=t[n];if(te.test(u)||u===".")return s();if(u==="'"||u==='"')return o();if(u==="[")return n+=1,{type:0,elements:c("]")};if(u in Je)return n+=1,{type:7,operator:u,argument:y()};if(ee.test(u)||u==="(")return l();r("Expression parsing error")}function w(){let u=y(),g=d();if(!g)return u;let v=y();v||r(`Expected expression after ${g}`);let p,m=[u,g,v];for(;g=d();){let E=Qe[g],D=g;for(;m.length>2&&E<=Qe[m[m.length-2]];)v=m.pop(),g=m.pop(),u=m.pop(),p={type:1,operator:g,left:u,right:v},m.push(p);p=y(),p||r(`Expected expression after ${D}`),m.push(D,p)}let f=m.length-1;for(p=m[f];f>1;)p={type:1,operator:m[f-1],left:m[f-2],right:p},f-=2;return p}function b(){let u=w();if(i(),u&&t[n]==="?"){n+=1;let g=b();if(g||r("Expected expression"),i(),t[n]===":"){n++;let v=b();return v||r("Expected expression"),{type:3,test:u,consequent:g,alternate:v}}else r("Expected :")}else return u}let M=b();return n<t.length&&r(`Unexpected "${t[n]}"`),M}var xt=[void 0,void 0];function I(t,e,n){switch(t.type){case 0:let r=t.elements.map(M=>I(M,e,n)[0]);return r.some(M=>M===void 0)?xt:[r,void 0];case 1:let i=I(t.left,e,n)[0],s=I(t.right,e,n)[0];return"+-**/%".includes(t.operator)&&(i===void 0||s===void 0)?xt:[Ke[t.operator](i,s),void 0];case 2:let[o,a]=I(t.callee,e,n),c=t.args.map(M=>I(M,e,n)[0]);return c.some(M=>M===void 0)||typeof o!="function"?xt:[o.apply(a,c),void 0];case 3:let l=I(t.consequent,e,n),d=I(t.alternate,e,n);return I(t.test,e,n)[0]?l:d;case 4:return[n[t.name]||e[t.name],void 0];case 5:return[t.value,void 0];case 6:let y=I(t.object,e,n)[0],w=t.computed?I(t.property,e,n)[0]:t.property.name;return y?[y[w],y]:[void 0,void 0];case 7:let b=I(t.argument,e,n)[0];return b===void 0&&t.operator!=="!"?xt:[Je[t.operator](b),void 0]}}function B(t){let e=Kr(t);return e?(n={},r={})=>I(e,n,r)[0]:(n={})=>{}}var Jr=/\${([^}]+)}/g;function tn(t){let e=t.split(Jr),n=e.map((r,i)=>i%2?B(r.replace(/×/g,"*")):void 0);return r=>e.map((i,s)=>{if(!(s%2))return i;let o=n[s](r);return typeof o=="number"&&o<0?`\u2013${-o}`:o}).join("")}var ct="ontouchstart"in window,Q="onpointerdown"in window;function bt(t){if(t.touches){let e=t.targetTouches.length?t.targetTouches:t.changedTouches;return new h(e[0].clientX,e[0].clientY)}else return new h(t.clientX||0,t.clientY||0)}function Qr(t){if(t instanceof PointerEvent&&t.pointerType==="mouse")return _(t.target);let e=bt(t);return _(document.elementFromPoint(e.x,e.y)||void 0)}function Zr(t){if(t._data.tapEvent)return;t._data.tapEvent=!0;let e;t.on("pointerdown",n=>e=bt(n)),t.on("pointerup",n=>{if(!e)return;let r=bt(n);h.distance(e,r)<6&&t.trigger("tap",n),e=void 0}),t.on("pointercancel",()=>e=void 0)}function ti(t){t._data.clickOutsideEvent||(t._data.clickOutsideEvent=!0,H.on("pointerdown",e=>{var n,r;let i=e.target,s=(r=(n=t._el).getRootNode)==null?void 0:r.call(n),o=bt(e);(s==null?void 0:s.host)&&(i=s.elementFromPoint(o.x,o.y)),!(!i||t._el===i||t._el.contains(i))&&t.trigger("clickOutside",e)}))}function ei(t){if(t._data.scrollEvents)return;t._data.scrollEvents=!0;let e=!1,n;function r(){let c=t.scrollTop;if(c===n){e=!1;return}n=c,t.trigger("scroll",{top:n}),window.requestAnimationFrame(r)}function i(){e||window.requestAnimationFrame(r),e=!0}(t.type==="window"?window:t._el).addEventListener("scroll",i);function o(){window.addEventListener("touchmove",i),window.addEventListener("touchend",a)}function a(){window.removeEventListener("touchmove",i),window.removeEventListener("touchend",a)}t._el.addEventListener("touchstart",function(c){c.handled||o()})}var ne;function ni(t){for(let e of t){let n=e.isIntersecting?"enterViewport":"exitViewport";setTimeout(()=>_(e.target).trigger(n))}}function en(t){if(!t._data.intersectionEvents){if(t._data.intersectionEvents=!0,!window.IntersectionObserver){let e=!1;H.on("scroll",()=>{let n=t.isInViewport;e&&!n?(t.trigger("exitViewport"),e=!1):n&&!e&&(t.trigger("enterViewport"),e=!0)});return}ne||(ne=new IntersectionObserver(ni)),ne.observe(t._el)}}function ri(t,e=!1){if(e&&(t._data.resizeObserver&&t._data.resizeObserver.disconnect(),t._data.resizeObserver=void 0),!t._data.resizeObserver){if(window.ResizeObserver){let n=new window.ResizeObserver(()=>t.trigger("resize"));n.observe(t._el),t._data.resizeObserver=n}else if(window.MutationObserver){let n=new MutationObserver(()=>t.trigger("resize"));n.observe(t._el,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),t._data.resizeObserver=n}}}function nn(t){if(t._data.pointerPositionEvents)return;t._data.pointerPositionEvents=!0;let e=t.parent,n;e.on("pointerend",()=>n=void 0),e.on("pointermove",r=>{let i=n,s=Qr(r);n=s.equals(t)||s.hasParent(t),i!==void 0&&n&&!i&&t.trigger("pointerenter",r),!n&&i&&t.trigger("pointerleave",r)})}function re(t,e){e._data[`_${t}`]||(e._data[`_${t}`]=!0,Q?e.on(t.replace("mouse","pointer"),n=>{n.pointerType==="mouse"&&e.trigger(t,n)}):ct||e._el.addEventListener(t,n=>e.trigger(t,n)))}function ii(t){t.on("keydown",e=>{if(e.metaKey||e.ctrlKey||C.isAndroid&&e.keyCode===229)return;let n=e.key||String.fromCharCode(e.which),r=n.toLowerCase(),i=!!e.shiftKey;t.trigger("key",{code:e.keyCode,key:r,char:n,shift:i})}),C.isAndroid&&t.type==="input"&&t.on("input",e=>{let n=e.data[e.data.length-1],r=n.toLowerCase();t.trigger("key",{code:void 0,key:r,char:n}),t.value=""})}var Mt={scrollwheel:"DOMMouseScroll mousewheel",pointerdown:Q?"pointerdown":ct?"touchstart":"mousedown",pointermove:Q?"pointermove":ct?"touchmove":"mousemove",pointerup:Q?"pointerup":ct?"touchend":"mouseup",pointercancel:Q?"pointercancel":"touchcancel",pointerstop:Q?"pointerup pointercancel":ct?"touchend touchcancel":"mouseup"},_t={scroll:ei,tap:Zr,clickOutside:ti,key:ii,mousedown:re.bind(void 0,"mousedown"),mousemove:re.bind(void 0,"mousemove"),mouseup:re.bind(void 0,"mouseup"),pointerenter:nn,pointerleave:nn,enterViewport:en,exitViewport:en,resize:ri};function si(t,e,n,r){if(e in _t)_t[e](t,!1);else if(e in Mt){let i=k(Mt[e]);for(let s of i)t._el.addEventListener(s,n,r)}else t._el.addEventListener(e,n,r)}function oi(t,e,n){if(e in _t)(!t._events[e]||!t._events[e].length)&&_t[e](t,!0);else if(n&&e in Mt){let r=k(Mt[e]);for(let i of r)t._el.removeEventListener(i,n)}else n&&t._el.removeEventListener(e,n)}var Et=0,ie=new Map;function rn(t,e){ie.set(t,e)}function ai(t){if(Et++,t(),Et--,Et===0){for(let[e,n]of ie.entries())e(n);ie.clear()}}function ci(t,e){let n=new Map,r=new Map,i=new Set,s,o=0;function a(m){s=m;let f=m(p,!0);return s=void 0,f}function c(m){for(let f of n.values())f.has(m)&&f.delete(m);i.delete(m)}function l(m,f){return i.add(m),f?void 0:m(p,!0)}function d(m,f){r.has(m)&&c(r.get(m));let E=()=>{t[m]=f(p),s===E&&(s=void 0),y(m)};r.set(m,E),a(E)}function y(m){if(Et>0){for(let f of n.get(m)||[])rn(f,t);for(let f of i)rn(f,t)}else{for(let f of n.get(m)||[])f(t);for(let f of i)f(t)}}function w(){for(let m of n.values())for(let f of m)f(t);for(let m of i)m(t)}function b(m,f){f&&(t={}),ai(()=>{for(let[E,D]of Object.entries(m))p[E]=D})}function M(){for(o+=1;`_x${o}`in t;)o+=1;return`_x${o}`}function u(){t={},n.clear(),r.clear(),o=0}function g(){return Object.assign({},t)}function v(m){!e||e.watch(()=>p[m]=e[m])}let p=new Proxy(t,{get(m,f){return f==="watch"?a:f==="unwatch"?c:f==="watchAll"?l:f==="setComputed"?d:f==="forceUpdate"?w:f==="assign"?b:f==="getKey"?M:f==="clear"?u:f==="copy"?g:f==="_internal"?[t,n]:(s&&(n.has(f)||n.set(f,new Set),n.get(f).add(s)),f in t||v(f),t[f])},set(m,f,E){return t[f]===E||(t[f]=E,r.has(f)&&(c(r.get(f)),r.delete(f)),y(f)),!0},deleteProperty(m,f){return delete t[f],n.delete(f),r.delete(f),!0}});return p}var hi={A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},li=/[astvzqmhlc]([^astvzqmhlc]*)/ig,ui=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function fi(t){let e=[],n;for(let r of t.match(li)||[]){let i=r[0].toUpperCase();if(i==="Z"){e.push({type:"Z",points:[]});continue}let s=(r.slice(1).match(ui)||[]).map(a=>+a),o=i===r[0];for(let[a,c]of Vt(s,hi[i]).entries()){let l=[],d=i==="M"&&a>0?"L":i,y;i==="H"?(d="L",l=[new h(c[0],o&&(n==null?void 0:n.y)||0)]):i==="V"?(d="L",l=[new h(o&&(n==null?void 0:n.x)||0,c[0])]):i==="A"?(d="A",l=[new h(c[5],c[6])],y=c.slice(0,5)):"MLCSQT".includes(i)&&(l=Vt(c,2).map(w=>new h(w[0],w[1]))),!o&&n&&(l=l.map(w=>w.translate(n))),n=R(l),e.push({type:d,points:l,options:y})}}return e}function di(t){return t?fi(t).map(n=>R(n.points)).filter(n=>!!n):[]}var pi=["font-family","font-size","font-style","font-weight","letter-spacing","text-decoration","color","display","visibility","alignment-baseline","baseline-shift","opacity","text-anchor","clip","clip-path","clip-rule","mask","filter","transform","transform-origin","white-space","line-height"],gi=["fill","fill-rule","marker","marker-start","marker-mid","marker-end","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-width","text-rendering","dominant-baseline","transform-box","paint-order"],mi=["padding","min-width","max-width","height","border-width","border-style","border-color","box-sizing","background","width","grid-template-columns","text-align"],yi=["class","tabindex","contenteditable"],wi=new Set(["opacity","transform-box","transform-origin","border-width","border-style","border-color"]),vi={"font-style":"normal","font-weight":"400","letter-spacing":"normal","text-decoration":"none",display:"block",visibility:"visible","alignment-baseline":"auto","baseline-shift":"0px","text-anchor":"start",clip:"auto","clip-path":"none","clip-rule":"nonzero",mask:"none",opacity:"1",filter:"none",fill:"rgb(0, 0, 0)","fill-rule":"nonzero",marker:"none",stroke:"none","stroke-dasharray":"none","stroke-dashoffset":"0px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-width":"1px","text-rendering":"auto",transform:"none","dominant-baseline":"auto","transform-origin":"0px 0px","transform-box":"view-box","paint-order":"normal"};function sn(t){var e,n;if(t.getAttribute("hidden")||t.style.opacity==="0"||t.style.display==="none")(e=t.parentNode)==null||e.removeChild(t);else{for(let r of Array.from(t.children))sn(r);if(t.tagName==="g"&&t.childElementCount===0)(n=t.parentNode)==null||n.removeChild(t);else for(let r of yi)t.hasAttribute(r)&&t.removeAttribute(r)}}function xi(t,e){let n=t.parentElement;for(;n;){let r=n.style.getPropertyValue(e);if(r)return r;n=n.parentElement}}function on(t,e,n=!1){let r=window.getComputedStyle(t);e.removeAttribute("style");let i=n||t.tagName==="foreignObject",s=[...pi,...i?mi:gi];for(let c of s){let l=r.getPropertyValue(c),d=xi(e,c);l===vi[c]&&!d||!wi.has(c)&&l===d||e.style.setProperty(c,l)}let o=t.children,a=e.children;for(let c=0;c<a.length;++c)on(o[c],a[c],i)}var hn=class{constructor(t){this._el=t,this._data={},this._events={},this.type="default",t._view=this}get id(){return this._el.id}get data(){return this._el.dataset}get tagName(){return this._el.tagName.toUpperCase()}equals(t){return this._el===t._el}addClass(t){for(let e of k(t))this._el.classList.add(e)}removeClass(t){for(let e of k(t))this._el.classList.remove(e)}hasClass(t){return this._el.classList.contains(t)}toggleClass(t){return this._el.classList.toggle(t)}setClass(t,e){e?this.addClass(t):this.removeClass(t)}attr(t){return this._el.getAttribute(t)||""}hasAttr(t){return this._el.hasAttribute(t)}setAttr(t,e){e===void 0?this.removeAttr(t):this._el.setAttribute(t,e.toString())}removeAttr(t){this._el.removeAttribute(t)}get attributes(){return Array.from(this._el.attributes||[])}get html(){return this._el.innerHTML||""}set html(t){this._el.innerHTML=t}get text(){return this._el.textContent||""}set text(t){this._el.textContent=t}set textStr(t){this._el.textContent=`${t}`}blur(){this._el.blur()}focus(){this._el.focus()}getParentModel(){let t=this.parent;return t?t.model||t.getParentModel():void 0}bindModel(t,e=!0){var n;if(!this.model){if(this.model=t,this.hasAttr(":for"))return this.makeDynamicList(t);for(let{name:r,value:i}of this.attributes)this.makeDynamicAttribute(r,i,t);for(let r of this.childNodes)if(r instanceof Text){if((n=r.textContent)==null?void 0:n.includes("${")){let i=tn(r.textContent);t.watch(()=>r.textContent=i(t)||"")}}else e&&r.bindModel(t)}}bindVariable(t,e){}toggleDOM(t=!0){t!==!!this._el.parentNode&&(this.$placeholder||(this.$placeholder=_(document.createComment("")),this.insertBefore(this.$placeholder)),t?this.$placeholder.insertBefore(this):this.detach())}makeDynamicAttribute(t,e,n){if(t.startsWith("@")){let r=t.slice(1),i=B(e);this.on(r,s=>i(n,{$event:s}))}else if(t===":show"){let r=B(e);n.watch(()=>this.toggle(!!r(n)))}else if(t===":if"){let r=B(e);n.watch(()=>this.toggleDOM(!!r(n)))}else if(t===":html"){let r=B(e);n.watch(()=>this.html=r(n)||"")}else if(t===":draw"){let r=B(e);n.watch(()=>this.draw(r(n)))}else if(t===":class"){let r=B(e),i=`${this.attr("class")} `;n.watch(()=>this.setAttr("class",i+r(n)))}else if(t===":bind")this.bindVariable(n,e);else if(t.startsWith(":")){let r=B(e),i=t.slice(1);n.watch(()=>this.setAttr(i,r(n)))}else if(e.includes("${")){let r=tn(e);n.watch(()=>this.setAttr(t,r(n)||""))}(t.startsWith("@")||t.startsWith(":"))&&this.removeAttr(t)}makeDynamicList(t){let[e,n]=this.attr(":for").split(" in ");this.removeAttr(":for");let r=B(n),i=_(document.createComment(""));this.insertBefore(i),this.detach();let s=[],o=0;t.watch(()=>{let a=r(t);Array.isArray(a)||(a=[]);for(let c=a.length;c<o;++c)s[c].detach();for(let c=o;c<s.length;++c)i.insertBefore(s[c]);for(let c=s.length;c<a.length;++c){let l=this.copy(!0);l.bindModel(ci({[e]:void 0},t)),i.insertBefore(l),s.push(l)}o=a.length;for(let c=0;c<o;++c)s[c].model[e]=a[c]})}get bounds(){return this._el.getBoundingClientRect()}get boundsRect(){let t=this.bounds;return new J(new h(t.x,t.y),t.width,t.height)}contains(t){return this.boundsRect.contains(t)}get isInViewport(){if(this.height===0)return!1;let t=this.bounds;return T(t.top,-t.height,C.height)}get topLeftPosition(){let t=this.bounds;return new h(t.left,t.top)}get boxCenter(){let t=this.bounds;return new h(t.left+t.width/2,t.top+t.height/2)}get scrollWidth(){return this._el.scrollWidth}get scrollHeight(){return this._el.scrollHeight}get scrollTop(){return this._el.scrollTop}set scrollTop(t){this._el.scrollTop=t,this.trigger("scroll",{top:t,left:this.scrollLeft})}get scrollLeft(){return this._el.scrollLeft}set scrollLeft(t){this._el.scrollLeft=t,this.trigger("scroll",{top:this.scrollTop,left:t})}scrollTo(t,e=1e3,n="cubic"){t<0&&(t=0);let r=this.scrollTop,i=t-r;this._data.scrollAnimation&&this._data.scrollAnimation.cancel(),this._data.scrollAnimation=cn(s=>{let o=r+i*Mi(n,s);this.scrollTop=o,this.trigger("scroll",{top:o})},e)}scrollBy(t,e=1e3,n="cubic"){!t||this.scrollTo(this.scrollTop+t,e,n)}css(t,e){if(e===void 0){if(typeof t=="string")return window.getComputedStyle(this._el).getPropertyValue(t);{let n=Object.keys(t);for(let r of n)this._el.style.setProperty(r,`${t[r]}`)}}else typeof t=="string"&&this._el.style.setProperty(t,`${e}`)}get transform(){return this.css("transform").replace("none","")}get transformMatrix(){let t=this.transform;if(!t)return[[1,0,0],[0,1,0]];let e=t.match(/matrix\(([0-9,.\s-]*)\)/);if(!e||!e[1])return[[1,0,0],[0,1,0]];let n=e[1].split(",");return[[+n[0],+n[2],+n[4]],[+n[1],+n[3],+n[5]]]}get scale(){let t=this.transformMatrix;return[t[0][0],t[1][1]]}setTransform(t,e=0,n=1){let r="";t&&(r+=`translate(${F(t.x,.1)}px,${F(t.y,.1)}px)`),e&&(r+=` rotate(${e}rad)`),n&&(r+=` scale(${n})`),this._el.style.transform=r}translate(t,e){this.setTransform(new h(t,e))}show(){this.hasAttr("hidden")&&this.removeAttr("hidden"),this.data.display==="visibility"?this._el.style.visibility="visible":this._el.style.display=this.data.display||"block"}hide(){this.data.display==="visibility"?this._el.style.visibility="hidden":this._el.style.display="none"}toggle(t){t?this.show():this.hide()}is(t){return this._el.matches?this._el.matches(t):Array.from(document.querySelectorAll(t)).includes(this._el)}index(){let t=0,e=this._el;for(;(e=e.previousSibling||void 0)!==void 0;)++t;return t}prepend(t){let e=this._el.childNodes;e.length?this._el.insertBefore(t._el,e[0]):this._el.appendChild(t._el)}append(t){this._el.appendChild(t instanceof Text?t:t._el)}insertBefore(t){this.parent._el.insertBefore(t._el,this._el)}insertAfter(t){let e=this._el.nextSibling;e?this.parent._el.insertBefore(t._el,e):this.parent._el.appendChild(t._el)}get next(){return _(this._el.nextSibling)}get prev(){return _(this._el.previousSibling)}$(t){return _(t,this)}$$(t){return bi(t,this)}get parent(){return _(this._el.parentElement||void 0)}parents(t){let e=[],n=this.parent;for(;n;)(!t||n.is(t))&&e.push(n),n=n.parent;return e}hasParent(...t){let e=t.map(r=>r._el),n=this._el.parentNode;for(;n;){if(z(n,...e))return!0;n=n.parentNode}return!1}get children(){return Array.from(this._el.children||[],t=>_(t))}get childNodes(){return Array.from(this._el.childNodes,t=>{if(!(t instanceof Comment))return t instanceof Text?t:_(t)}).filter(t=>t)}restartAnimation(){let t=this.next,e=this.parent;this.detach(),t?t.insertBefore(this):e.append(this)}detach(){this._el&&this._el.parentNode&&this._el.parentNode.removeChild(this._el)}remove(){this.detach()}removeChildren(){for(;this._el.firstChild;)this._el.removeChild(this._el.firstChild)}copy(t=!0){return _(this._el.cloneNode(t))}on(t,e,n){for(let r of k(t))r in this._events?this._events[r].includes(e)||this._events[r].push(e):this._events[r]=[e],si(this,r,e,n)}one(t,e,n){let r=i=>{this.off(t,r),e(i)};this.on(t,r,n)}off(t,e){for(let n of k(t))n in this._events&&(this._events[n]=e?this._events[n].filter(r=>r!==e):[]),oi(this,n,e)}trigger(t,e={}){for(let n of k(t)){if(!this._events[n])return;for(let r of this._events[n])r.call(this,e)}}onKeyDown(t,e){let n=k(t).map(r=>an[r]||r);this._el.addEventListener("keydown",r=>{n.indexOf(r.keyCode)>=0&&e(r)})}onAttr(t,e){new MutationObserver(r=>{for(let i of r)i.type==="attributes"&&i.attributeName===t&&e(this.attr(t))}).observe(this._el,{attributes:!0}),e(this.attr(t),!0)}onPromise(t,e=!1){return e?Promise.resolve():new Promise(n=>this.one("solve",()=>n()))}animate(t,e=400,n=0,r="ease-in-out"){return A(this,t,e,n,r)}enter(t="fade",e=500,n=0){return _i(this,t,e,n)}exit(t="fade",e=500,n=0,r=!1){return Ei(this,t,e,n,r)}effect(t){this.one("animationend",()=>this.removeClass(`effects-${t}`)),this.addClass(`effects-${t}`)}},X=class extends hn{get offsetTop(){return this._el.offsetTop}get offsetLeft(){return this._el.offsetLeft}get offsetParent(){return _(this._el.offsetParent||void 0)}get width(){return this._el.offsetWidth}get height(){return this._el.offsetHeight}get innerWidth(){let t=parseFloat(this.css("padding-left")),e=parseFloat(this.css("padding-right"));return this._el.clientWidth-t-e}get innerHeight(){let t=parseFloat(this.css("padding-bottom")),e=parseFloat(this.css("padding-top"));return this._el.clientHeight-t-e}get outerWidth(){let t=parseFloat(this.css("margin-left")),e=parseFloat(this.css("margin-right"));return this.width+t+e||0}get outerHeight(){let t=parseFloat(this.css("margin-bottom")),e=parseFloat(this.css("margin-top"));return this.height+t+e||0}get positionTop(){let t=this._el,e=0;for(;t;)e+=t.offsetTop,t=t.offsetParent;return e}get positionLeft(){let t=this._el,e=0;for(;t;)e+=t.offsetLeft,t=t.offsetParent;return e}offset(t){if(t._el===this._el.offsetParent){let e=this.offsetTop+t._el.clientTop,n=this.offsetLeft+t._el.clientLeft,r=e+this.height,i=n+this.width;return{top:e,left:n,bottom:r,right:i}}else{let e=t._el.getBoundingClientRect(),n=this._el.getBoundingClientRect();return{top:n.top-e.top,left:n.left-e.left,bottom:n.bottom-e.top,right:n.right-e.left}}}},ln=class extends hn{constructor(){super(...arguments);this.type="svg"}get $ownerSVG(){return _(this._el.ownerSVGElement||void 0)}get width(){return this.bounds.width}get height(){return this.bounds.height}get positionLeft(){let t=this._el.getBBox().x+this._el.getCTM().e;return this.$ownerSVG.positionLeft+t}get positionTop(){let t=this._el.getBBox().y+this._el.getCTM().f;return this.$ownerSVG.positionTop+t}get inverseTransformMatrix(){let t=this._el.getScreenCTM().inverse(),e=[[t.a,t.c,t.e],[t.b,t.d,t.f]];if(C.isFirefox){let n=this.transformMatrix;e[0][2]-=n[0][2],e[1][2]-=n[1][2]}return e}setTransform(t,e=0,n=1){let r=t?`translate(${F(t.x,.1)} ${F(t.y,.1)})`:"",i=x(e,0)?"":`rotate(${e*180/Math.PI})`,s=x(n,1)?"":`scale(${n})`;this.setAttr("transform",[r,i,s].join(" "))}get strokeLength(){if(this._el instanceof SVGGeometryElement)return this._el.getTotalLength();{let t=this.bounds;return 2*t.height+2*t.width}}getPointAtLength(t){if(this._el instanceof SVGGeometryElement){let e=this._el.getPointAtLength(t);return new h(e.x,e.y)}else return new h(0,0)}getPointAt(t){return this.getPointAtLength(t*this.strokeLength)}get points(){return di(this.attr("d"))}set points(t){let e=t.length?`M${t.map(n=>`${n.x},${n.y}`).join("L")}`:"";this.setAttr("d",e)}addPoint(t){let e=`${this.attr("d")} L ${t.x},${t.y}`;this.setAttr("d",e)}get center(){let t=+this.attr(this.tagName==="TEXT"?"x":"cx"),e=+this.attr(this.tagName==="TEXT"?"y":"cy");return new h(t,e)}setCenter(t){this.setAttr(this.tagName==="TEXT"?"x":"cx",t.x),this.setAttr(this.tagName==="TEXT"?"y":"cy",t.y)}setLine(t,e){this.setAttr("x1",t.x),this.setAttr("y1",t.y),this.setAttr("x2",e.x),this.setAttr("y2",e.y)}setRect(t){this.setAttr("x",t.p.x),this.setAttr("y",t.p.y),this.setAttr("width",t.w),this.setAttr("height",t.h)}draw(t,e={}){if(!t)return this.setAttr("d","");let n={mark:this.attr("mark"),arrows:this.attr("arrows"),size:+this.attr("size")||void 0,fill:this.hasClass("fill"),round:this.hasAttr("round")};this.setAttr("d",vt(t,Object.assign(e,n)))}},ki=class extends ln{get viewBox(){return this._el.viewBox.baseVal||{width:0,height:0}}get $ownerSVG(){return this}get positionLeft(){return parseInt(this.css("margin-left"))+this.parent.positionLeft}get positionTop(){return parseInt(this.css("margin-top"))+this.parent.positionTop}get svgWidth(){return this.viewBox.width||this.width}get svgHeight(){return this.viewBox.height||this.height}drawPath(t,e={},n={}){let r=Z("path",e,this);return r.draw(t,n),r}image(t,e,n,r){return q(this,null,function*(){let i=this.copy(!0);if(on(this._el,i._el),t==="svg"&&sn(i._el),n||(n=e||this.svgHeight),e||(e=this.svgWidth),i.setAttr("width",e),i.setAttr("height",n),i.setAttr("viewBox",r||this.attr("viewBox")||`0 0 ${this.svgWidth} ${this.svgHeight}`),i.setAttr("xmlns","http://www.w3.org/2000/svg"),t==="svg"){let l=i.$$('image[href^="/"]');for(let d of l)d.setAttr("href",`${location.protocol}//${location.host}${d.attr("href")}`)}else{let l=i.$$('image[href^="http"]');yield Promise.all(l.map(d=>q(this,null,function*(){let y=yield je(d.attr("href")),w=Z("canvas",{width:y.width,height:y.height});w.ctx.drawImage(y,0,0,y.width,y.height);let b=yield w.image("png");d.setAttr("href",b)})))}let s=new XMLSerializer().serializeToString(i._el),o=`data:image/svg+xml;utf8,${encodeURIComponent(s)}`;if(t==="svg")return o;let a=Z("canvas",{width:e,height:n});t==="jpg"&&(a.ctx.fillStyle="white",a.ctx.fillRect(0,0,e,n));let c=yield je(o);return a.ctx.drawImage(c,0,0,e,n),a.image(t)})}downloadImage(t,e,n,r){let i=C.isIOS?window.open("","_blank"):void 0,s=C.theme.isDark;s&&C.setTheme("light");let o=t.endsWith(".jpg")?"jpg":t.endsWith(".svg")?"svg":"png",a=this.image(o,e,n,r);s&&C.setTheme("dark"),a.then(c=>{if(i)return i.location.href=c;Z("a",{download:t,href:c,target:"_blank"})._el.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}))})}},un=class extends X{constructor(){super(...arguments);this.type="window"}get width(){return window.innerWidth}get height(){return window.innerHeight}get innerWidth(){return window.innerWidth}get innerHeight(){return window.innerHeight}get outerWidth(){return window.outerWidth}get outerHeight(){return window.outerHeight}get scrollWidth(){return document.body.scrollWidth}get scrollHeight(){return document.body.scrollHeight}get scrollTop(){return window.pageYOffset}set scrollTop(t){document.body.scrollTop=document.documentElement.scrollTop=t,this.trigger("scroll",{top:t,left:this.scrollLeft})}get scrollLeft(){return window.pageXOffset}set scrollLeft(t){document.body.scrollLeft=document.documentElement.scrollLeft=t,this.trigger("scroll",{top:this.scrollTop,left:t})}},Ai=class extends X{constructor(){super(...arguments);this.type="form"}get action(){return this._el.action}get formData(){let t={};for(let e of Array.from(this._el.elements)){let n=e.name||e.id;n&&(t[n]=e.value)}return t}get isValid(){return this._el.checkValidity()}},Ci=class extends X{constructor(){super(...arguments);this.type="input"}get checked(){return this._el.checked||!1}set checked(t){this._el.checked=t}get value(){return this._el.value}set value(t){this._el.value=t}bindVariable(t,e){let n=this._el.type==="number",r=this._el.type==="checkbox";if(e in t?r?this.checked=t[e]:this.value=t[e]:this.value&&(r?t[e]=this.checked:t[e]=this.value),n){let i=this.hasAttr("min")?+this.attr("min"):-Infinity,s=this.hasAttr("max")?+this.attr("max"):Infinity;this.change(o=>t[e]=O(+o,i,s)),this.on("blur",()=>this.value=t[e])}else r?this.on("change",()=>t[e]=this.checked):this.change(i=>t[e]=i);t.watch(()=>{r?this.checked=t[e]:this.value=t[e],this.trigger("model-change",{defaultPrevented:!0})})}setInputPattern(t){if(isNaN(+t))return;let e=t.match(/^[0-9]+$/);this.setAttr("inputmode",e?"numeric":"decimal"),e&&this.setAttr("pattern","[0-9]*")}change(t){let e=this.value||"";this.on("change keyup input paste model-change",n=>{this.value!==e&&(e=this.value.trim(),n.defaultPrevented||t(e))})}validate(t){this.change(e=>this.setValidity(t(e)))}setValidity(t){this._el.setCustomValidity(t)}get isValid(){return this._el.checkValidity()}},Ti=class extends X{constructor(){super(...arguments);this.type="canvas"}getContext(t="2d",e={}){return this._el.getContext(t,e)}image(t="png"){return this._el.toDataURL(t==="png"?"image/png":"image/jpeg")}get canvasWidth(){return this._el.width}get canvasHeight(){return this._el.height}get ctx(){return this._ctx||(this._ctx=this.getContext()),this._ctx}draw(t,e={}){this.ctx.save(),Zt(this.ctx,t,e),this.ctx.restore()}clear(){this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight)}fill(t){this.ctx.save(),this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.ctx.restore()}clearCircle(t,e){this.ctx.save(),this.ctx.globalCompositeOperation="destination-out",this.ctx.beginPath(),this.ctx.arc(t.x,t.y,e,0,2*Math.PI,!1),this.ctx.fill(),this.ctx.restore()}downloadImage(t){let e=this.image(t.endsWith(".jpg")?"jpg":"png");Z("a",{download:t,href:e,target:"_blank"})._el.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}))}},Si=class extends X{play(){return this._el.play()||Promise.resolve()}pause(){return this._el.pause()}},fn=["path","rect","circle","ellipse","polygon","polyline","g","defs","marker","line","text","tspan","pattern","mask","svg","foreignObject","image","use","clipPath"];function _(t,e){if(!t)return;let n=e?e._el:document.documentElement,r=typeof t=="string"?n.querySelector(t):t;if(!r)return;if(r._view)return r._view;let i=(r.tagName||"").toLowerCase();return i==="svg"?new ki(r):i==="canvas"?new Ti(r):i==="form"?new Ai(r):i==="input"||i==="select"||i==="textarea"?new Ci(r):i==="video"||i==="audio"?new Si(r):fn.includes(i)?new ln(r):new X(r)}function bi(t,e){let n=e?e._el:document.documentElement,r=t?n.querySelectorAll(t):[];return Array.from(r,i=>_(i))}function Z(t,e={},n){let r=fn.includes(t)?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);for(let[s,o]of Object.entries(e))o!==void 0&&(s==="id"?r.id=o:s==="html"?r.innerHTML=o:s==="text"?r.textContent=o:s==="path"?r.setAttribute("d",vt(o)):r.setAttribute(s,o));let i=_(r);return n&&n.append(i),i}var H=new un(document.body),Pi=new un(document.documentElement),an={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46},kt="_M",tt=window.navigator.userAgent.toLowerCase(),dn={};for(let[t,e]of Object.entries(an))dn[e]=t;var Ii=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i,pn=/iphone|ipad|ipod/i,Li=/^((?!chrome|android).)*safari/i,gn,$i=class{constructor(){this.isMobile=Ii.test(tt),this.isRetina=(window.devicePixelRatio||1)>1,this.isTouch=!!window.Touch||"ontouchstart"in window,this.isChrome=!!window.chrome,this.isFirefox=tt.indexOf("firefox")>=0,this.isAndroid=tt.indexOf("android")>=0,this.isIOS=pn.test(tt),this.isSafari=pn.test(tt)||Li.test(tt),this.loadQueue=[],this.loaded=!1,this.width=window.innerWidth,this.height=window.innerHeight,this.resizeCallbacks=[],this.theme={name:"light",isDark:!1},this.themeChangedCallbacks=[],this.themeOverride="",this.darkQuery=(gn=window.matchMedia)==null?void 0:gn.call(window,"(prefers-color-scheme: dark)");var t,e;window.onload=()=>this.afterLoad(),document.addEventListener("DOMContentLoaded",()=>this.afterLoad());let n=lt(()=>this.applyResize());window.addEventListener("resize",n);try{(t=this.darkQuery)==null||t.addEventListener("change",()=>this.applyThemeChange())}catch(i){(e=this.darkQuery)==null||e.addListener(()=>this.applyThemeChange())}let r=this.getCookie("theme");r&&this.setTheme(r);try{this.localStorage=window.localStorage}catch(i){console.warn("Unable to access Local Storage in this context.")}}afterLoad(){if(!this.loaded){this.loaded=!0;for(let t of this.loadQueue)t();setTimeout(()=>this.resize())}}ready(t){this.loaded?t():this.loadQueue.push(t)}redraw(){document.body.offsetHeight}applyResize(){let t=window.innerWidth,e=window.innerHeight;if(!(this.width===t&&this.height===e)){this.width=t,this.height=e;for(let n of this.resizeCallbacks)n({width:this.width,height:this.height});H.trigger("scroll",{top:H.scrollTop})}}onResize(t){t({width:this.width,height:this.height}),this.resizeCallbacks.push(t)}offResize(t){let e=this.resizeCallbacks.indexOf(t);e>=0&&this.resizeCallbacks.splice(e,1)}resize(){this.applyResize()}applyThemeChange(){let t=this.theme.name,e=t==="dark"||t==="auto"&&this.darkQuery.matches;if(e!==this.theme.isDark){this.theme.isDark=e,Pi.setAttr("theme",this.themeOverride||(e?"dark":"light"));for(let n of this.themeChangedCallbacks)n(this.theme)}}setTheme(t){t!==this.theme.name&&(this.theme.name=t,this.setCookie("theme",t),this.applyThemeChange())}onThemeChange(t){this.themeChangedCallbacks.push(t)}getHash(){return window.location.hash.slice(1)}setHash(t){let e=document.body.scrollTop;window.location.hash=t,document.body.scrollTop=e}setURL(t,e=""){window.history.replaceState({},e,t),e&&(window.document.title=e)}getCookies(){let t=document.cookie.split(";"),e={};for(let n=0,r=t.length;n<r;++n){let i=t[n].split("=");e[decodeURIComponent(i[0]).trim()]=decodeURIComponent(i[1])}return e}getCookie(t){let e=document.cookie.match(new RegExp(`(^|;) ?${t}=([^;]*)(;|$)`));return e?e[2]:void 0}setCookie(t,e,n=60*60*24*365){let r=window.location.hostname.replace(/^[a-z]{2}\./,"");document.cookie=`${t}=${e};path=/;max-age=${n};domain=${r}`}deleteCookie(t){this.setCookie(t,"",-1)}setStorage(t,e){var n,r;let i=(t||"").split("."),s=Nt(((n=this.localStorage)==null?void 0:n.getItem(kt))||void 0,{}),o=s;for(let a=0;a<i.length-1;++a)o[i[a]]===void 0&&(o[i[a]]={}),o=o[i[a]];o[i[i.length-1]]=e,(r=this.localStorage)==null||r.setItem(kt,JSON.stringify(s))}getStorage(t){var e;let n=Nt((e=this.localStorage)==null?void 0:e.getItem(kt),{});if(!t)return n;let r=(t||"").split("."),i=r.pop();for(let s of r){if(!(s in n))return;n=n[s]}return n[i]}deleteStorage(t){var e;t?this.setStorage(t,void 0):(e=this.localStorage)==null||e.setItem(kt,"")}getActiveInput(){let t=document.activeElement;return(t==null?void 0:t.shadowRoot)&&(t=t.shadowRoot.activeElement),t===document.body?void 0:_(t)}onKey(t,e,n=!1){let r=k(t),i=n?"keyup":"keydown";document.addEventListener(i,s=>{let o=dn[s.keyCode]||s.key;if(!r.includes(o))return;let a=this.getActiveInput();a&&a.is("input, textarea, [contenteditable]")||a&&["space","enter","tab"].includes(o)&&a.is("button, a, [tabindex]")||e(s,o)})}},C=window.BoostBrowser||new $i;window.BoostBrowser=C;var Oi=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,qi=/\bAppleWebKit\/(\d+)\b/,Ni=/\bEdge\/12\.(\d+)\b/,Bi=Oi.test(navigator.userAgent)||+(navigator.userAgent.match(Ni)||[])[1]<10547||+(navigator.userAgent.match(qi)||[])[1]<537,se={};function Di(){if(!Bi)return;Array.from(document.querySelectorAll("svg > use")).forEach(function(e){let n=e.getAttribute("xlink:href"),[r,i]=n.split("#");if(!r.length||!i)return;let s=e.parentNode;s.removeChild(e),r in se||(se[r]=fetch(r).then(a=>a.text())),se[r].then(a=>{let c=document.implementation.createHTMLDocument("");c.documentElement.innerHTML=a;let d=c.getElementById(i).cloneNode(!0),y=document.createDocumentFragment();for(;d.childNodes.length;)y.appendChild(d.firstChild);s.appendChild(y)})})}var At=!1;setTimeout(()=>At=!0);var Ri="cubic-bezier(0.175, 0.885, 0.32, 1.275)",Fi="cubic-bezier(0.68, -0.275, 0.825, 0.115)",G={cancel:()=>{},promise:Promise.resolve()};function cn(t,e){if(e===0)return t(1,0,()=>{}),G;let n=Date.now(),r=ht(),i=0,s=!0,o=()=>{s=!1,r.reject()};function a(){s&&(!e||i<=e)&&window.requestAnimationFrame(a);let c=Date.now()-n;t(e?Math.min(1,c/e):c,c-i,o),e&&c>=e&&r.resolve(),i=c}return a(),{cancel:o,promise:r.promise}}function Ct(t,e=0,n=0){switch(t){case"quad":return e**2;case"cubic":return e**3;case"quart":return e**4;case"quint":return e**5;case"circ":return 1-Math.sqrt(1-e**2);case"sine":return 1-Math.cos(e*Math.PI/2);case"exp":return e<=0?0:Math.pow(2,10*(e-1));case"back":return n||(n=1.70158),e*e*((n+1)*e-n);case"elastic":return n||(n=.3),-Math.pow(2,10*(e-1))*Math.sin(((e-1)*2/n-.5)*Math.PI);case"swing":return .5-Math.cos(e*Math.PI)/2;case"spring":return 1-Math.cos(e*4.5*Math.PI)*Math.exp(-e*6);case"bounce":return e<1/11?1/64-7.5625*(.5/11-e)*(.5/11-e):e<3/11?1/16-7.5625*(2/11-e)*(2/11-e):e<7/11?1/4-7.5625*(5/11-e)*(5/11-e):1-7.5625*(1-e)*(1-e);default:return e}}function Mi(t,e=0,n=0){if(e===0)return 0;if(e===1)return 1;let[r,i]=t.split("-");return i==="in"?Ct(r,e,n):i==="out"?1-Ct(r,1-e,n):e<=.5?Ct(r,2*e,n)/2:1-Ct(r,2*(1-e),n)/2}function A(t,e,n=400,r=0,i="ease-in-out"){if(!At)return Object.keys(e).forEach(u=>{let g=e[u];t.css(u,Array.isArray(g)?g[1]:g)}),G;i==="bounce-in"&&(i=Ri),i==="bounce-out"&&(i=Fi);let s="";C.isSafari&&(s=t._el.style.transition,t.css("transition","none"),C.redraw());let o=t._data.animation;o&&o.cancel();let a={},c={},l=ht(),d=window.getComputedStyle(t._el);Object.keys(e).forEach(u=>{let g=e[u],v=we(u);c[v]=Array.isArray(g)?g[0]:d.getPropertyValue(u),a[v]=Array.isArray(g)?g[1]:g,r&&t.css(u,c[v])});let y=a.height;if(a.height==="auto"){let u=t.children.filter(g=>g.css("position")!=="absolute");a.height=`${N(u.map(g=>g.outerHeight))}px`}let w,b=!1;qt(()=>{b||(w=t._el.animate([c,a],{duration:n,easing:i,fill:"forwards"}),w.onfinish=()=>{t._el&&Object.keys(e).forEach(u=>t.css(u,u==="height"?y:a[u])),C.isSafari&&t.css("transition",s),l.resolve(),w.cancel()})},r);let M={cancel(){b=!0,t._el&&Object.keys(e).forEach(u=>t.css(u,t.css(u))),w&&w.cancel()},promise:l.promise};return setTimeout(()=>t._data.animation=M),M}var Vi=/matrix\([0-9.\-\s]+,[0-9.\-\s]+,[0-9.\-\s]+,[0-9.\-\s]+,([0-9.\-\s]+),([0-9.\-\s]+)\)/;function _i(t,e="fade",n=500,r=0){if(t.show(),!At)return G;let i=+t.css("opacity")||1;if(e==="fade")return A(t,{opacity:[0,i]},n,r);if(e==="pop"){let s=t.transform.replace(/scale\([0-9.]*\)/,"").replace(Vi,"translate($1px,$2px)");return A(t,{opacity:[0,i]},n,r),A(t,{transform:[`${s} scale(0.5)`,`${s} scale(1)`]},n,r,"bounce-in")}else{if(e==="descend")return A(t,{opacity:[0,1],transform:["translateY(-50%)","none"]},n,r);if(e.startsWith("draw")){let s=t.strokeLength;t.css("stroke-dasharray",`${s}px`),t.css("opacity")||t.css("opacity",1);let o=e==="draw-reverse"?`${2*s}px`:0,a={"stroke-dashoffset":[`${s}px`,o]},c=A(t,a,n,r,"linear");return c.promise.then(()=>t.css("stroke-dasharray","")),c}else if(e.startsWith("slide")){let s={opacity:[0,i],transform:["translateY(50px)","none"]};return e.includes("down")&&(s.transform[0]="translateY(-50px)"),e.includes("right")&&(s.transform[0]="translateX(-50px)"),e.includes("left")&&(s.transform[0]="translateX(50px)"),A(t,s,n,r)}else if(e.startsWith("reveal")){let s={opacity:[0,i],height:[0,"auto"]};return e.includes("left")&&(s.transform=["translateX(-50%)","none"]),e.includes("right")&&(s.transform=["translateX(50%)","none"]),A(t,s,n,r)}}return G}function Ei(t,e="fade",n=400,r=0,i=!1){if(!t._el)return G;if(!At)return t.hide(),G;if(t.css("display")==="none")return G;let s;if(e==="fade")s=A(t,{opacity:[1,0]},n,r);else if(e==="pop"){let o=t.transform.replace(/scale\([0-9.]*\)/,"");A(t,{opacity:[1,0]},n,r),s=A(t,{transform:[`${o} scale(1)`,`${o} scale(0.5)`]},n,r,"bounce-out")}else if(e==="ascend")s=A(t,{opacity:[1,0],transform:["none","translateY(-50%)"]},n,r);else if(e.startsWith("draw")){let o=t.strokeLength;t.css("stroke-dasharray",o);let c={"stroke-dashoffset":[e==="draw-reverse"?`${2*o}px`:0,`${o}px`]};s=A(t,c,n,r,"linear")}else if(e.startsWith("slide")){let o={opacity:0,transform:"translateY(50px)"};e.includes("up")&&(o.transform="translateY(-50px)"),s=A(t,o,n,r)}else if(e.startsWith("reveal")){let o={opacity:0,height:0};e.includes("left")&&(o.transform="translateX(-50%)"),e.includes("right")&&(o.transform="translateX(50%)"),s=A(t,o,n,r)}return s.promise.then(()=>i?t.remove():t.hide()),s}var vo=ye(["#cd0e66","#0f82f2","#22ab24","#fd8c00"]);var Wi="position: fixed; top: 0; left: 0; width: 100%; height: 4px; background: #0f82f2; pointer-events: none; z-index: 9999; will-change: transform;";function mn(t,e){let n=e.regex.exec(t);if(n){n.shift();let r={};for(let[i,s]of e.params.entries())r[s]=n[i];return r}else return}function Hi(t,e,n){return q(this,null,function*(){return t.template?typeof t.template=="string"?t.template:t.template(e):(yield fetch(n+(n.indexOf("?")>=0?"&xhr=1":"?xhr=1"))).text()})}var yn=document.readyState==="complete";window.addEventListener("load",()=>setTimeout(()=>yn=!0));"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var zi=class extends Wt{constructor(){super(...arguments);this.$viewport=H,this.views=[],this.active={path:"",hash:""},this.preloaded=!1,this.transition=!1,this.noLoad=!1,this.initialise=()=>{}}setup(t={}){t.$viewport&&(this.$viewport=t.$viewport),t.initialise&&(this.initialise=t.initialise),t.preloaded&&(this.preloaded=t.preloaded),t.transition&&(this.transition=t.transition),t.noLoad&&(this.noLoad=t.noLoad),t.click&&H.on("click",e=>this.onLinkClick(e)),t.history&&window.addEventListener("popstate",e=>q(this,null,function*(){var n;if(!yn||!((n=e.state)==null?void 0:n.path))return;(yield this.load(e.state.path,e.state.hash))||window.history.pushState(this.active,"",this.active.path+this.active.hash)}))}view(t,{enter:e,exit:n,template:r}={}){let i=(t.match(/:\w+/g)||[]).map(y=>y.substr(1)),s=`${t.replace(/:\w+/g,"([\\w-]+)").replace("/","\\/")}\\/?`,o=t.includes("?")?"":"(\\?.*)?",c={regex:new RegExp(`^${s}${o}$`,"i"),params:i,enter:e,exit:n,template:r};this.views.push(c);let l=window.location.pathname+window.location.search,d=mn(l,c);!d||(this.active={path:l,hash:window.location.hash},window.history.replaceState(this.active,"",this.active.path+this.active.hash),C.ready(()=>{setTimeout(()=>{this.preloaded?(this.initialise(this.$viewport,d),c.enter&&c.enter(this.$viewport,d)):this.loadView(c,d)})}))}paths(...t){for(let e of t)this.view(e)}getView(t){for(let e of this.views){let n=mn(t,e);if(n)return{view:e,params:n}}}load(t,e){return q(this,null,function*(){if(t===this.active.path&&e!==this.active.hash)return this.trigger("hashChange",e.slice(1)),this.trigger("change",t+e),this.active={path:t,hash:e},!0;let n=this.getView(t);return!n||this.beforeChange&&!(yield this.beforeChange())?!1:(this.active={path:t,hash:e},this.trigger("change",t+e),window.ga&&window.ga("send","pageview",t+e),this.noLoad?n.view.enter&&n.view.enter(this.$viewport,n.params):this.loadView(n.view,n.params),!0)})}loadView(t){return q(this,arguments,function*(e,n={}){this.showLoadingBar();let r=this.active.path,i=yield Hi(e,n,r);if(this.active.path!==r)return;yield this.$viewport.animate({opacity:0},200).promise,this.$viewport.removeChildren(),H.scrollTop=0,this.$viewport.html=i,C.resize(),Di(),this.$viewport.animate({opacity:1},200),this.hideLoadingBar();let s=this.$viewport.$("title");s&&(document.title=s.text),this.initialise(this.$viewport,n),e.enter&&e.enter(this.$viewport,n),this.trigger("afterChange",{$viewport:this.$viewport})})}onLinkClick(t){if(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)return;let e=t.target;for(;e&&e.nodeName!=="A";)e=e.parentNode;if(!e||e.nodeName!=="A")return;let n=e;if(n.target||n.origin!==window.location.origin||n.hasAttribute("download")||n.getAttribute("rel")==="external")return;let r=n.getAttribute("href");r&&r.indexOf("mailto:")>-1||this.getView(n.pathname+n.search)&&(t.preventDefault(),this.goTo(n.pathname+n.search,n.hash))}goTo(t,e=""){return q(this,null,function*(){let n=this.active.path+this.active.hash;(yield this.load(t,e))&&n!==this.active.path+this.active.hash&&window.history.pushState(this.active,"",t+e)})}replace(t,e=""){this.active={path:t,hash:e},window.history.replaceState(this.active,"",t+e)}back(){window.history.back()}forward(){window.history.forward()}showLoadingBar(){this.$loadingBar||(this.$loadingBar=Z("div",{style:Wi},H)),this.$loadingBar.css({transform:"translateX(-100%)",opacity:1}),this.$loadingBar.show(),this.animation=cn(t=>{this.$loadingBar.css("transform",`translateX(-${10+90*Math.exp(-4*t)}%)`)},3e3)}hideLoadingBar(){return q(this,null,function*(){var t,e,n;(t=this.animation)==null||t.cancel(),yield(e=this.$loadingBar)==null?void 0:e.animate({transform:"none",opacity:0}).promise,(n=this.$loadingBar)==null||n.hide()})}},bo=new zi;function Ui(t,e){let n=Array.from(t.childNodes);t.innerHTML=e;let r={};for(let i of Array.from(t.querySelectorAll("slot")))r[i.getAttribute("name")||""]=i;for(let i of n){let s=i.getAttribute&&i.getAttribute("slot")||"",o=r[s]||r[""];o&&o.parentNode.insertBefore(i,o)}for(let i of Object.values(r))i.parentNode.removeChild(i)}function wn(t){let e=[];for(let n of Array.from(t.children))n.tagName.startsWith("X-")?e.push(n):e.push(...wn(n));return e}var vn=new Map,Xi=class extends HTMLElement{constructor(){super(...arguments);this.wasConnected=!1,this.isReady=!1}connectedCallback(){return q(this,null,function*(){if(this.wasConnected){this._view.trigger("connected");return}this.wasConnected=!0,this.isReady=!1,this._view.created();let t=vn.get(this._view.tagName)||{};t.template&&Ui(this,t.template);let e=wn(this).filter(n=>!n.isReady).map(n=>new Promise(r=>n.addEventListener("ready",r)));yield Promise.all(e),this._view.ready(),this.dispatchEvent(new CustomEvent("ready")),this.isReady=!0})}disconnectedCallback(){this._view.trigger("disconnected")}},xn=class extends X{created(){}ready(){}};function bn(t,e={}){return function(n){if(window.customElements.get(t)){console.warn(`Trying to declare the custom element ${t} twice!`);return}class r extends Xi{constructor(){super();this._view=new n(this)}}vn.set(t.toUpperCase(),e),window.customElements.define(t,r)}}var Gi='<div class="qb-title"></div><div class="qb-body"><slot></slot></div>',oe=class extends xn{ready(){if(this.$title=this.$(".qb-title"),this.$body=this.$(".qb-body"),this.$body.children.length&&!this.hasClass("note")){let e=this.$body.children.shift();this.$title.append(e)}}};oe=ue([bn("q-block",{template:Gi})],oe);var ji=1,Yi="-50px 0px -66% 0px",ae="",Ki=function(t,e){var s,o;let n=document.querySelector("a.c-sidebar__entry.c-sidebar__entry--progress"),r=document.querySelector(`a.c-sidebar__entry[href="#${e}"]`),i=" c-sidebar__entry--active c-sidebar__entry--progress ";if(r){n&&(n.className=n.className.replace(i,"")),r.className+=i;let a=r.offsetTop,c=(o=(s=window.textbook)==null?void 0:s.course)==null?void 0:o.section,l=document.querySelector(`[data-section-id="${c}"] .connection--progress`);l&&(l.style.height=`${a}px`)}},Ji=function(t){let e=Infinity;t.forEach(n=>{let{target:r,boundingClientRect:i,rootBounds:s}=n;if(s){let o=i.top,a=s.bottom;o>=0&&o<=a&&o<e&&(r.id&&ae!==r.id&&(Ki(ae,r.id),ae=r.id),e=o)}})},Mn=function(){let t=new IntersectionObserver(Ji,{root:null,rootMargin:Yi,threshold:ji});document.querySelectorAll(":is(h1, h2, h3, h4) > a[id]").forEach(e=>{t.observe(e)}),window.addEventListener("beforeunload",function(e){t&&t.disconnect()})};var _n=function(){let t=document.getElementById("translations");return(t==null?void 0:t.textContent)?JSON.parse(t.textContent):{}},Tt=function(t,e=[],n){let r=n||window.textbook.translations,i=(r==null?void 0:r[t])||t;return e.forEach((s,o)=>{i=i.replace("$"+o,s)}),i};var et={},En=function(t,e){if(t){e.classList.add("q-math-notation");let n=document.createElement("div"),r=document.createElement("div");n.appendChild(r),n.className+="qv-tooltip",r.className+="qv-tooltip__content",r.innerHTML="",t.say&&(r.innerHTML+=`
        <h3 class="qv-tooltip__title">${Tt("How to read this")}:</h3>
        <p>${t.say}</p>
      `),t.meaning&&(r.innerHTML+=`
        <h3 class="qv-tooltip__title">${Tt("What it means")}:</h3><p>
          ${t.meaning}</p>
        `),t.type&&(r.innerHTML+=`
        <h3 class="qv-tooltip__title">${Tt("Type")}:</h3><p>
          ${t.type}</p>
        `),e.appendChild(n)}},Qi=function(){if(!Object.keys(et).length){let t=document.getElementById("notations");t&&t.textContent&&(et=JSON.parse(t.textContent))}return et},kn=function(){Qi();for(let t in et){let e=document.getElementById(t);if(e)En(et[t],e);else{let n=document.querySelectorAll(`mjx-container .${t}`);for(let r of n)En(et[t],r)}}};var nt="c-textbook__sidebar--hidden",An=1056,L=null,Zi=function(){L=document.getElementsByClassName("c-textbook")[0],L&&document.documentElement.clientWidth<An&&L.classList.add(nt)},Cn=(()=>{let t;return()=>(t||(t=document.getElementsByClassName("language-selector__dropdown")[0]),t)})(),Tn=function(){var s;let t=document.getElementById("app-panel-header-toggle"),e=document.getElementById("app-panel-footer-toggle"),n=[t,e];L=document.getElementsByClassName("c-textbook")[0],n.filter(o=>!!o).forEach(o=>{o.addEventListener("click",()=>{L.classList.contains(nt)?L.classList.remove(nt):(Cn().open=!1,L.classList.add(nt))})}),document.documentElement.clientWidth<An&&((s=L==null?void 0:L.classList)==null||s.add(nt));let i=window.innerWidth;window.addEventListener("resize",()=>{i!==window.innerWidth&&(i=window.innerWidth,Zi())})},Sn=function(){let t=document.getElementById("app-panel-language-toggle");L=document.getElementsByClassName("c-textbook")[0],t==null||t.addEventListener("click",()=>{L.classList.remove(nt),Cn().open=!0})};var St=function(t,e){for(let n of Object.keys(e))if(Array.isArray(t[n])){let r=[...t[n],...e[n]];t[n]=[...new Set(r)]}else if(t[n]instanceof Object){let r=St(t[n],e[n]);Object.assign(e[n],r)}else Object.assign(t,{[n]:e[n]});return t};var Pn="qiskit/textbook/course",Pt=function(){var n;let t={};try{let r=window.localStorage.getItem(Pn);t=r?JSON.parse(r):{}}catch(r){console.error(r)}let e=JSON.parse(((n=document.getElementById("userdata"))==null?void 0:n.textContent)||"{}");return $t($t({},t),e)},ts=function(t){try{let e=Pt(),n=St(e,t),r=JSON.stringify(n);return window.localStorage.setItem(Pn,r),!0}catch(e){return console.error(e),!1}},es=function(t,e){var a,c;let n=((c=(a=Pt())==null?void 0:a[t.id])==null?void 0:c[t.section])||{},r=St(n,e),i=0,s=(r==null?void 0:r.steps)||{};for(let l in s)i+=s[l].scores.length;let o=i*100/(t.goals||0);isNaN(o)||(r.progress=parseFloat(o.toFixed(2)),r.completed=o>99,ts({[t.id]:{[t.section]:r}}))},In=function(){var r,i;let t=window.location.pathname;t=t.startsWith("/")?t.substring(1):t;let e=t.split("/"),n={};if(e.length===3&&e[0]==="course"){let s=e[1],o=e[2];n=((i=(r=Pt())==null?void 0:r[s])==null?void 0:i[o])||n}return n},ns=function(t){var n,r;let e=((n=Pt())==null?void 0:n[t])||{};for(let i in e){let s=document.querySelector(`[data-section-id="${i}"] x-progress`);s&&s.setAttribute("p",`${(((r=e[i])==null?void 0:r.progress)||0)/100}`)}},Ln=function(t){console.debug(`storing progress in localStorage for ${t.id}/${t.section}`),ns(t.id);let e=window.fetch;window.fetch=(n,r)=>fe(this,null,function*(){if(typeof n=="string"&&n.startsWith(`/course/${t.id}/${t.section}`)&&(r==null?void 0:r.method)==="POST"&&typeof r.body=="string")try{let i=decodeURIComponent(r.body);i.startsWith("data=")&&(i=i.substring(5));let s=JSON.parse(i);es(t,s)}catch(i){console.error("Failed to process fetch options:",i)}return yield e(n,r)})};function rs(t){window._analytics={segment_key:t,coremetrics:!1,optimizely:!1,googleAddServices:!1,fullStory:!1,autoPageEventSpa:!1,autoFormEvents:!1,autoPageView:!1},window.digitalData={page:{pageInfo:{productTitle:"IBM Q Experience",analytics:{category:"Qiskit.org"}}}}}function is(t=""){return window._analyticsReady=window._analyticsReady||new Promise((e,n)=>{let r=document.createElement("script");r.async=!0,r.src=t,document.head.appendChild(r),r.onload=e,r.onerror=i=>{console.warn("Error loading Bluemix Analytics script:",i),n(i)}}),window._analyticsReady}function $n(t){let{bluemixAnalytics:e,digitalData:n}=window;if(!e||!n)return;let r=Lt(n),i=It(n),s="project-platypus";e.pageEvent(r,s,{navigationType:"pushState",productTitle:i,title:t})}function On(t,e){let{bluemixAnalytics:n,digitalData:r}=window;if(!n||!r)return;let i=It(r),o={category:Lt(r),CTA:t,location:e,productTitle:i};n.trackEvent("CTA Clicked",o)}function qn(t,e){let{bluemixAnalytics:n,digitalData:r}=window;if(!n||!r)return;let i=It(r),o={category:Lt(r),productTitle:i,uiElement:t,field:e};n.trackEvent("Performed Search",o)}function Nn(t,e){let{bluemixAnalytics:n,digitalData:r}=window;if(!n||!r)return;let i=It(r),o={category:Lt(r),productTitle:i,object:e,objectType:t};n.trackEvent("Updated Object",o)}function It(t){return Bn(()=>t.page.pageInfo.productTitle,"`digitalData.page.pageInfo.productTitle` is missing")}function Lt(t){return Bn(()=>t.page.pageInfo.analytics.category,"`digitalData.page.pageInfo.analytics.category` is missing")}function Bn(t,e){let n;try{n=t()}catch(r){}if(!n)throw new Error(e);return n}function Dn(t,e){return rs(t),is(e)}var ss=function(t){document.readyState!="loading"?t():document.addEventListener&&document.addEventListener("DOMContentLoaded",t)};window.progressData=In();window.textbook=Object.assign(window.textbook,{runAfterDOMLoaded:ss,translations:_n()});var rt=window.textbook;rt.runAfterDOMLoaded(()=>{let t=document.getElementsByTagName("x-course")[0];t&&(rt.course={id:t.id,section:t.getAttribute("data-section")||"",goals:+t.getAttribute("data-goals")||0},Ln(rt.course)),Tn(),Sn(),kn(),Mn(),Dn(window.textbookAnalytics.key,window.textbookAnalytics.url).then(()=>{$n(window.location.pathname)}).finally(()=>{rt.trackClickEvent=On,rt.trackPerformedSearch=qn,rt.trackUpdatedObject=Nn})});})();